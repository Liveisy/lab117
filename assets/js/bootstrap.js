!function(){"use strict";function t(t,n){return"function"==typeof t?function(n){return t.bind(n)}:function(t){return n.bind(null,t)}}var n=Array.from||function(t){return Array.prototype.slice.call(t)};var e=t(Array.prototype.includes,r);function r(t,n){return-1!==t.indexOf(n)}var o=t(Array.prototype.find,(function(t,n){for(var e=0;e<t.length;e++)if(n(t[e]))return t[e]}));var i=Object.assign||function(t,n){return Object.keys(n).forEach((function(e){t[e]=n[e]})),t};var c="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function a(t,n){return t(n={exports:{}},n.exports),n.exports}function u(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var s,f=a((function(t){function n(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(t.exports=n=function(t){return typeof t},t.exports.default=t.exports,t.exports.__esModule=!0):(t.exports=n=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.default=t.exports,t.exports.__esModule=!0),n(e)}t.exports=n,t.exports.default=t.exports,t.exports.__esModule=!0})),d=(s=f)&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s;var l=setTimeout;function m(t){return Boolean(t&&void 0!==t.length)}function p(){}function v(t){if(!(this instanceof v))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],_(t,this)}function w(t,n){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,v._immediateFn((function(){var e=1===t._state?n.onFulfilled:n.onRejected;if(null!==e){var r;try{r=e(t._value)}catch(t){return void h(n.promise,t)}g(n.promise,r)}else(1===t._state?g:h)(n.promise,t._value)}))):t._deferreds.push(n)}function g(t,n){try{if(n===t)throw new TypeError("A promise cannot be resolved with itself.");if(n&&("object"===d(n)||"function"==typeof n)){var e=n.then;if(n instanceof v)return t._state=3,t._value=n,void y(t);if("function"==typeof e)return void _((r=e,o=n,function(){r.apply(o,arguments)}),t)}t._state=1,t._value=n,y(t)}catch(n){h(t,n)}var r,o}function h(t,n){t._state=2,t._value=n,y(t)}function y(t){2===t._state&&0===t._deferreds.length&&v._immediateFn((function(){t._handled||v._unhandledRejectionFn(t._value)}));for(var n=0,e=t._deferreds.length;n<e;n++)w(t,t._deferreds[n]);t._deferreds=null}function b(t,n,e){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.promise=e}function _(t,n){var e=!1;try{t((function(t){e||(e=!0,g(n,t))}),(function(t){e||(e=!0,h(n,t))}))}catch(t){if(e)return;e=!0,h(n,t)}}v.prototype.catch=function(t){return this.then(null,t)},v.prototype.then=function(t,n){var e=new this.constructor(p);return w(this,new b(t,n,e)),e},v.prototype.finally=function(t){var n=this.constructor;return this.then((function(e){return n.resolve(t()).then((function(){return e}))}),(function(e){return n.resolve(t()).then((function(){return n.reject(e)}))}))},v.all=function(t){return new v((function(n,e){if(!m(t))return e(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(t);if(0===r.length)return n([]);var o=r.length;function i(t,c){try{if(c&&("object"===d(c)||"function"==typeof c)){var a=c.then;if("function"==typeof a)return void a.call(c,(function(n){i(t,n)}),e)}r[t]=c,0==--o&&n(r)}catch(t){e(t)}}for(var c=0;c<r.length;c++)i(c,r[c])}))},v.allSettled=function(t){return new this((function(n,e){if(!t||void 0===t.length)return e(new TypeError(d(t)+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var r=Array.prototype.slice.call(t);if(0===r.length)return n([]);var o=r.length;function i(t,e){if(e&&("object"===d(e)||"function"==typeof e)){var c=e.then;if("function"==typeof c)return void c.call(e,(function(n){i(t,n)}),(function(e){r[t]={status:"rejected",reason:e},0==--o&&n(r)}))}r[t]={status:"fulfilled",value:e},0==--o&&n(r)}for(var c=0;c<r.length;c++)i(c,r[c])}))},v.resolve=function(t){return t&&"object"===d(t)&&t.constructor===v?t:new v((function(n){n(t)}))},v.reject=function(t){return new v((function(n,e){e(t)}))},v.race=function(t){return new v((function(n,e){if(!m(t))return e(new TypeError("Promise.race accepts an array"));for(var r=0,o=t.length;r<o;r++)v.resolve(t[r]).then(n,e)}))},v._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){l(t,0)},v._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var E=a((function(t){!function(n,e){var r="object"===("undefined"==typeof window?"undefined":d(window))&&window||"object"===d(c)&&c||"object"===("undefined"==typeof self?"undefined":d(self))&&self||n,o="function"==typeof setImmediate,i="object"===("undefined"==typeof process?"undefined":d(process))&&!!process&&"function"==typeof process.nextTick,a=0;var s=function(){var t,n,e,c;if(r.MutationObserver)return function(n){t=document.createElement("div"),new MutationObserver((function(){n(),t=null})).observe(t,{attributes:!0}),t.setAttribute("i","1")};if(!o&&r.postMessage&&!r.importScripts&&r.addEventListener){var u="com.setImmediate"+Math.random();c={};return r.addEventListener("message",(function(t){if(t.source===r&&0===t.data.indexOf(u)){var n=+t.data.split(":")[1];c[n](),delete c[n]}}),!1),function(t){var n=9007199254740991===a?0:++a;c[n]=t,r.postMessage(u+":"+n,"*")}}return!o&&r.document&&"onreadystatechange"in document.createElement("script")?function(t){(n=document.createElement("script")).onreadystatechange=function(){n.onreadystatechange=null,n.parentNode.removeChild(n),n=null,t()},document.body.appendChild(n)}:(e=o&&setImmediate||i&&process.nextTick||setTimeout,function(t){e(t)})}();t.exports?t.exports=s:u.amd?(void 0)((function(){return s})):r.setAsap=s}(c)}));v._immediateFn=E,v._unhandledRejectionFn=function(){},v.allSettled=v.allSettled.bind(v);var j="function"==typeof Promise?Promise:v,k=t(String.prototype.includes,r);window.trustedForm||(window.trustedForm={id:1337});var T=window.trustedForm;T.startRecording=function(){return F.disabled.recording?"TrustedForm recording cannot be started once stopped.":(F.disabled.recording=!1,"TrustedForm recording has been started")},T.stopRecording=function(){return F.disabled.recording=!0,"TrustedForm recording has been stopped"},window.trustedFormStartRecording=T.startRecording,window.trustedFormStopRecording=T.stopRecording;var S,x,O={tfIdAttr:"data-tf-id",tfValueAttr:"data-tf-value",tfCheckedAttr:"data-tf-checked",tfIgnoreAttr:"data-tf-ignore",tfFingerprintAttr:"data-tf-fingerprint",tfFieldMaskingAttr:"data-tf-sensitive",tfFormTrackingAttr:"data-tf-ft",tfShadowAttr:"data-tf-shadow-dom",chunkSize:254e3,maximumFingerprints:100,omittedAttributes:{"data-kwimpalastatus":!0,"data-kwimpalaid":!0,"aria-posinset":!0,"aria-setsize":!0,contentEditable:!0,datapagesize:!0,disabled:!1,hideFocus:!0,hspace:!0,indeterminate:!0,loop:!0,maxLength:!0,multiple:!0,nowrap:!0,readOnly:!0,start:!0,tabIndex:!0,topmargin:!0,bottommargin:!0,leftmargin:!0,rightmargin:!0,vspace:!0,"aria-level":!0,"data-tf-shadow-dom":!0,crossorigin:!0},id:T.id,identifier:T.identifier,version:T.version,lock:T.lock,token:T.token,honeybadger_api_key:T.honeybadger_api_key,environmentName:"production",invert_field_sensitivity:T.invert_field_sensitivity,form_selector:T.form_selector,field:T.field,ping_field:T.ping_field,token_field:T.token_field,browserWidth:T.browserWidth,browserHeight:T.browserHeight,load_async:T.load_async,disabled:{fingerprint:!!T.disable_fingerprinting,snapshot:!!T.disable_snapshot,video:!!T.disable_video,recording:!!T.disable_recording,consent:!!T.disable_consent_tracking},ping_url:"",provide_referrer:T.provide_referrer,sandbox:T.sandbox,certInsertionTimer:null,otoc:"true"===T.use_tagged_consent,query:"",log_level:""},F=new Proxy(O,{set:function(t,n,e){try{return Reflect.set(t,n,e),window.trustedForm[n.toString()]=e,!0}catch(t){return console.warn("globals set error",t),!0}},get:function(t,n){var e=n.toString(),r=t[e];if(k(Object.keys(t))(e))return r;console.warn("Attempted to get unknown global: ".concat(e,"."))}}),U=function(t){for(var n in t)F[n]=t[n]||""},A=Object.prototype.toString,I=Function.prototype.toString,M=/^\[object .+?Constructor\]$/;function C(t){var n=d(t);return"function"===n?function(t){return S||(S=RegExp("^"+(""+A).replace(/[.*+?^${}()|[\]/\\]/g,"\\$&").replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$")),!!S.test(t)}(I.call(t)):!(!t||"object"!==n||!M.test(A.call(t)))||!1}!function(t){t.BrowserParsing="br",t.CertInsertionCore="ci",t.CertInsertionNeedsInsertion="cin",t.CertInsertionOuter="cio",t.CertInsertionRemove="cir",t.CertInsertionUrl="ciu",t.CompressSafe="cs",t.ConsentTrackingClickwrap="tc",t.ConsentTrackingElement="te",t.Main="m",t.MonitorEvent="mv",t.MonitorKeyDown="mkd",t.MutationHandlerAddedNodes="mha",t.MutationHandlerAttributeChange="mhv",t.MutationHandlerCharacterChange="mhc",t.MutationHandlerCore="mh",t.MutationHandlerRemovedNodes="mhr",t.PostCors="pc",t.PostMain="pm",t.PostRetries="pr",t.PostSendBeacon="psb",t.ReplayAddEvent="vae",t.ReplayAttemptSendEvents="vse",t.ReplayOutOfEvents="voe",t.ReplaySetInterval="vsi",t.ReplayUploadChunk="vuc",t.SlowExecution="sl",t.SnapshotUploadChunk="suc",t.SnapshotUploadCore="su",t.SnapshotUploadPost="sup",t.XhrCore="xc",t.XhrPromise="xp"}(x||(x={}));var D,P={br:{message:"Error parsing browser information."},cicff:{message:"Error checking for certificate form(s)."},ciufif:{message:"Error updating fields in form."},cici:{message:"Error during certificate insertion."},ci:{message:"Core certificate insertion error."},cin:{message:"Certificate insertion required but not performed."},cio:{message:"Error in outer certificate insertion logic."},cir:{message:"Error removing certificate from form."},ciu:{message:"Error with certificate URL."},cs:{message:"Error compressing data."},tc:{message:"Error tracking consent clickwrap."},te:{message:"Error tracking consent element."},m:{message:"Unhandled error in main script."},mv:{message:"Error monitoring event."},tjs_v_kd:{message:"Error monitoring keydown in input fields."},mkd:{message:"Error monitoring keydown event."},mha:{message:"Error handling added DOM nodes."},mhv:{message:"Error handling attribute change in DOM."},mhc:{message:"Error handling character change in DOM."},mh:{message:"Core mutation handler error."},mhr:{message:"Error handling removed DOM nodes."},oe:{message:"Error handling DOM event."},tjs_ooe:{message:"Out-of-order execution detected."},pc:{message:"Error posting data via CORS."},pm:{message:"Error posting data."},pr:{message:"Maximum post retries reached."},psb:{message:"Error posting data via sendBeacon."},su:{message:"Error uploading snapshot."}},R=function(t,n){return"debug"!==F.log_level?n:function(t,n){if(k(Object.keys(P))(t)){var e=P[t].message,r=o(Object.keys(x))((function(n){return x[n]===t})),i=new Error(e);if(i.name=r||t,n instanceof Error)try{i.cause=n}catch(t){return i}return i}return n}(t,n)},L=null,N=new Set;function q(){return 20===Math.ceil(100*Math.random())}function H(t,n){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(void 0===D&&(D=q()),"debug"===F.log_level||e||D){var r=n instanceof Error?R(t,n):R(t,new Error(String(n)));L?$(t,r):z(t,r)}}function $(t,n){var e;N.has(t)||(N.add(t),null===(e=L)||void 0===e||e.notify(n,{name:t,fingerprint:t,context:{revision:"1.10.23",cert_id:F.id,scheme:"https",lock:F.lock}}))}function z(t,n){var e=document.createElement("script"),r=document.getElementsByTagName("head")[0],o=(new Date).getTime(),i=window.setTimeout(c,1e4);function c(){i&&window.clearTimeout(i),e.parentNode===r&&r.removeChild(e)}e.type="text/javascript",e.async=!0,e.src="https://js.honeybadger.io/v3.0/honeybadger.min.js?ts=".concat(o),e.onerror=c,e.onload=function(){if(i&&window.clearTimeout(i),void 0===window.Honeybadger)return c();try{0,(L=window.Honeybadger.factory({apiKey:F.honeybadger_api_key})).configure({environment:"production",revision:"1.10.23",enableUncaught:!1,enableUnhandledRejection:!1}),$(t,n)}catch(t){L=null,c()}},r.appendChild(e)}var K={state:0,iframe:null,XHR:window.XMLHttpRequest,loads:0};function X(){try{if(K.loads++,K.state=0,K.XHR=window.XMLHttpRequest,K.loads>10)throw new Error("Too many reloads");if(!C(XMLHttpRequest)||!C(XMLHttpRequest.prototype.open)){var t=K.iframe=document.createElement("iframe");t.style.display="none",t.style.border="none",t.setAttribute(F.tfIgnoreAttr,"true"),t.onload=function(){if(0===K.state){K.state=2;var n=t&&t.contentWindow;if(t&&n&&n.XMLHttpRequest&&n.XMLHttpRequest.prototype&&Object.freeze)try{Object.freeze(n.XMLHttpRequest),Object.freeze(n.XMLHttpRequest.prototype),K.XHR=n.XMLHttpRequest}catch(t){K.state=1,K.XHR=window.XMLHttpRequest}else K.state=1}},document.body.appendChild(t),(e=new MutationObserver((function(t){t.forEach((function(t){var r,o;t.removedNodes.length&&(r=t.removedNodes,o=n(r),(K.iframe&&o.indexOf(K.iframe)>-1||o.some((function(t){return t.nodeType===Node.ELEMENT_NODE&&t.contains(K.iframe)})))&&(e.disconnect(),X()))}))}))).observe(document.body,{subtree:!0,childList:!0})}}catch(t){H("xhr:setup",t)}var e}try{X()}catch(t){H("xhr:init",t)}var B="https://api.trustedform.com/certs",J="https://cert.trustedform.com",V={recordUrl:"events",snapshotUrl:"snapshot",fingerprintUrl:"fingerprints",updateUrl:"update"},W=function(t){var n="";if("pingUrl"===t)n=F.ping_url;else if("certificateUrl"===t)n=[J,F.id].join("/");else{var e=V[t];if(!e)throw new Error("No service name found for ".concat(t));n=[B,F.id,e].join("/")}return n},G=[],Q={pingUrl:"",certificateUrl:""};function Y(t){o(G)((function(n){return n.form===t}))||G.push({form:t,fieldValues:{}})}function Z(){var t={},n=F.field,e=F.token_field,r=F.ping_field,o=W("certificateUrl"),i=W("pingUrl");return t[n]=o,t[e]=o,t[r]=i,t}function tt(t){var n=function(t){var n=t;try{n=decodeURIComponent(t)}catch(n){console.warn("Invalid selector in form_selector parameter",t)}return n}(t),e=[],r=[],o=[];return""===n.trim()?{all:!0,classes:e,ids:r,names:o}:(n.split(",").forEach((function(t){t.includes(".")?e.push(t.replace(/^\./,"")):t.includes("#")?r.push(t.replace(/^#/,"")):o.push(t)})),{all:!1,classes:e,ids:r,names:o})}function nt(t,e){var r=tt(e),o=r.all,i=r.classes,c=r.ids,a=r.names;try{var u=t.document.querySelectorAll("form");n(u).forEach((function(t){var n=t;(o||i.length&&i.some((function(t){return n.classList.contains(t)}))||c.length&&c.some((function(t){return n.id===t}))||a.length&&a.some((function(t){return n.name===t})))&&Y(n)}))}catch(t){H("certInsertion.checkForForms",t)}}function et(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=document.createElement("input");return r.type="hidden",r.name=t,r.value=n,e&&(r.id=e),r}function rt(t,n,e,r){Q.pingUrl===r&&Q.certificateUrl===e||("function"==typeof t.trustedFormCallback?setTimeout(t.trustedFormCallback,0,n):"function"==typeof t.trustedFormCertIdCallback?setTimeout(t.trustedFormCertIdCallback,0,n):"function"==typeof t.trustedFormCertUrlCallback&&setTimeout(t.trustedFormCertUrlCallback,0,e,r),Q.pingUrl=r,Q.certificateUrl=e)}function ot(t,n,e){var r=t.form,o=t.fieldValues;try{for(var i in e){var c=o[i],a=e[i];if(c!==a){var u=r.querySelector('input[name="'.concat(i,'"]'));if(u)u.value=a;else{var s=et(i,a,"".concat(i,"_").concat(n));r.appendChild(s)}o[i]=a}}}catch(t){H("certInsertion.updateFieldsInForm",t)}}function it(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{var e=Z(),r=W("pingUrl"),o=W("certificateUrl");nt(t,F.form_selector),G.forEach((function(t,n){return ot(t,n,e)})),n||rt(t,F.id,o,r),F.certInsertionTimer||(F.certInsertionTimer=setInterval((function(){it(t)}),500))}catch(t){H("certInsertion.certInsertion",t)}}var ct=["field","form_selector","identifier","invert_field_sensitivity","l","load_async","lock","ping_field","provide_referrer","referrer","sandbox","token_field","use_tagged_consent"];function at(t){var n=window.innerWidth||document.documentElement.clientWidth||document.body.offsetWidth,r=window.innerHeight||document.documentElement.clientHeight||document.body.offsetHeight,o=i({},function(){var t={};for(var n in window.trustedForm)e(ct)(n)&&(t[n]=F[n]);return t}(),t),c={page_url:document.location.toString(),user_agent:navigator.userAgent,tfscript_version:"1.10.23",tfscript_params:o,snapshot_metadata:{browser_width:n,browser_height:r,screen_width:screen.width,screen_height:screen.height}};return window!==window.parent&&(c.parent_url=document.referrer),U({browserWidth:n,browserHeight:r}),new j((function(t,n){try{var e=function(){if(2!==K.state)return new window.XMLHttpRequest;try{return new K.XHR}catch(t){return K.state=1,K.XHR=window.XMLHttpRequest,new window.XMLHttpRequest}}();e.open("POST","https://api.trustedform.com/certs",!0),e.setRequestHeader("Content-Type","text/plain"),e.onreadystatechange=function(){if(4===e.readyState&&201===e.status){var r=JSON.parse(e.response);U(r),it(window),t(r)}else if(4===e.readyState){var o=new Error("TrustedForm Script failed to load: ".concat(e.status));n(o)}},e.send(JSON.stringify(c))}catch(t){console.error(t),n(t)}}))}function ut(){U(window.trustedForm),at().then((function(t){var n,e=document.querySelector('script[src*="trustedform"]')||document.querySelector('script[src*="bootstrap.js"]');if(e){(n=e)&&n.parentNode&&n.parentNode.removeChild(n);var r=document.createElement("script");r.type="text/javascript",r.async="true"===window.trustedForm.load_async,r.src="https://cdn.trustedform.com/trustedform-1.10.23.js";var o=document.querySelector("head");o.appendChild(r),function(t){if(window.trustedForm.audit&&"true"===window.trustedForm.audit){var n=document.createElement("script");n.type="text/javascript",n.src="https://cdn.trustedform-staging.com/tf-audit.js";var e=document.createElement("div");e.id="____tf-audit-application",document.body.append(e),t.appendChild(n)}}(o)}else console.warn("Could not find bootstrap script")}))}try{if(window._GPL)throw new Error("DNSUnlocker");!function(){var t=!1,n=[];function e(){if(!t){t=!0;for(var e=n.length,r=0;r<e;r++)n[r].call(document)}}return"complete"===document.readyState?e():(document.addEventListener("DOMContentLoaded",(function t(){document.removeEventListener("DOMContentLoaded",t,!0),e()}),!0),window.addEventListener("load",e,!1)),function(e){t?e.call(document):n.push(e)}}()((function(){try{if(window.trustedForm&&window.trustedForm.lock)throw new Error("Lock found. Check if another instance of TrustedForm Certify SDK is running or if the TrustedForm Certify SDK is loaded more than once.");!function(){window.trustedForm={lock:(new Date).getTime()+(Math.random()+"").substring(2),field:"xxTrustedFormCertUrl",token_field:"xxTrustedFormToken",ping_field:"xxTrustedFormPingUrl",form_selector:"",invert_field_sensitivity:"false",load_async:"true",use_tagged_consent:"false",script_params:[],audit:"false",log_level:""};var t=window.trustedForm;try{"undefined"!=typeof localStorage&&("true"===localStorage.getItem("load_tf_audit")&&(t.audit="true"),"debug"===localStorage.getItem("tf_log_level")&&(t.log_level="debug"))}catch(t){}var n=document.querySelector('script[src*="trustedform.com"]')||document.querySelector('script[src*="trustedform-staging.com"]')||document.querySelector('script[src*="trustedform-dev.com"]')||document.querySelector('script[src*="/dist/bootstrap.js"]'),e=n.src.split("?").pop();if(t.query=e,e.length&&e!==n.src)for(var r=e.split("&"),o=0;o<r.length;o++){var i=r[o].split("=");t.script_params.push(i),t[i[0]]=i[1]}"true"===t.provide_referrer&&(t.referrer=document.referrer)}(),ut()}catch(t){console.warn("TrustedForm Script failed to load",t)}}))}catch(t){console.warn("TrustedForm Script failed to load",t)}}();
