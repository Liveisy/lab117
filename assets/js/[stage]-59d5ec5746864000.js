(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[715],{1929:(e,t,i)=>{"use strict";i.d(t,{s:()=>s});var l=i(14232),n=i(48467),o=i(10038),a=i(78766);let s=(e,t,i,s)=>{var r;let{zip:d}=o.B.getState().session.answers,u=null!==(r=(0,a.Y)())&&void 0!==r?r:"",c=[],[v,m]=(0,l.useState)(t||d||e),[h,p]=(0,l.useState)(!1),[f,g]=(0,l.useState)(null!=i&&i),[y,x]=(0,l.useState)(!1),[b,S]=(0,l.useState)(s),N=(0,l.useCallback)(async e=>{if(!/^\d{5}$/.test(e)||c.includes(e)){g(!1),x(!0);return}try{p(!0);let t=await (0,n.c)(e,u);p(!1),g(!0),S(t)}catch(t){p(!1),g(!1),x(!0),c.push(e)}},[u]);return{zipCode:v,setZipCode:m,isValidatingZip:h,isValidZip:f,showErrorMessage:y,setIsValidZip:g,setShowErrorMessage:x,zippyGeo:b,checkZipIsValid:N}}},11081:(e,t,i)=>{"use strict";i.d(t,{A:()=>a});var l=i(37876),n=i(54587),o=i.n(n);i(14232);let a=e=>{let{photoUrl:t}=e;return(0,l.jsx)("div",{className:"mr-3 sm:mb-2",children:(0,l.jsx)(o(),{className:"rounded-full",src:null!=t?t:"",alt:"Agent Photo",width:56,height:56,style:{objectFit:"contain"},priority:!0,loader:e=>{let{src:t}=e;return t}})})}},11926:(e,t,i)=>{"use strict";i.d(t,{A:()=>o});var l=i(37876),n=i(41803);i(14232);let o=e=>{let{isCTA:t=!0}=e;return(0,l.jsxs)("div",{className:n.JA.cn("animate-pulse",t?"text-xl":"text-center text-6xl"),children:[(0,l.jsx)("span",{children:"."}),(0,l.jsx)("span",{children:"."}),(0,l.jsx)("span",{children:"."})]})}},13922:(e,t,i)=>{"use strict";i.d(t,{D$:()=>s,PF:()=>u,m0:()=>d,nT:()=>r});var l=i(37876),n=i(72448),o=i(41803);i(14232);var a=i(27196);let s=function(e){var t,i;let a=!(arguments.length>1)||void 0===arguments[1]||arguments[1],s=arguments.length>2?arguments[2]:void 0;return{buttonClassName:o.JA.cn("my-4"),icon:a?(0,l.jsx)(n.A,{className:"text-inherit size-5","aria-label":"right-arrow",strokeWidth:2.5}):null,style:{backgroundColor:null==e?void 0:null===(t=e.primaryColor)||void 0===t?void 0:t.default,borderColor:null==e?void 0:null===(i=e.primaryColor)||void 0===i?void 0:i.default},variant:"primary",clickAnimation:s}},r=e=>{var t,i;return{className:"mb-2 mt-4",fieldClassName:e&&"border-inherit text-inherit",style:{color:null==e?void 0:null===(t=e.lowEmphasisPrimaryColor)||void 0===t?void 0:t.dark,borderColor:null==e?void 0:null===(i=e.lowEmphasisPrimaryColor)||void 0===i?void 0:i.default}}},d=e=>{var t;let{arrival:{attributes:{osFamily:i}}}=e;return"Android"===((null===(t=e.expandos)||void 0===t?void 0:t.osFamily)||i)},u=e=>{var t,i;let{arrival:{attributes:{deviceType:l}}}=e;return(null==e?void 0:null===(i=e.damascusConfig)||void 0===i?void 0:null===(t=i.global.codeTests)||void 0===t?void 0:t.androidShouldFocus)&&d(e)||!(0,a.Xb)(l)}},28802:(e,t,i)=>{"use strict";i.d(t,{CX:()=>u,ee:()=>r,h9:()=>s,k9:()=>a,pe:()=>d});var l=i(97991),n=i(87604),o=i(48828);let a=(e,t,i,l,a)=>{let s="object"==typeof e?e.target.value:e,r=s.slice(0,14);t.trim().split("-")[0]===s&&(r=r.slice(0,r.length-1)),t.trim()===s&&(r=r.slice(0,r.length-1));let d=r.replace(/\D/g,"");i((0,n.Yn)(r));let u=d.length>=10&&(0,o.FY)(r);l(u),u&&a("phone",d)},s=(e,t,i)=>{e?t():i(!0)},r=(e,t)=>(0,l.Ho)({heading:t,firstName:e.firstPersonFirstName,make:e.firstVehicleMake,model:e.firstVehicleMake?e.firstVehicleModel:"vehicle"}),d=e=>{var t,i;return void 0!==e&&e.length>0&&(null===(t=e[0])||void 0===t?void 0:t.normalizedName)!==void 0&&(null===(i=e[0])||void 0===i?void 0:i.normalizedName.length)>0},u=(e,t)=>{if((void 0===t||t)&&void 0!==e&&d(e))return[e[0]]}},28926:(e,t,i)=>{"use strict";i.d(t,{cn:()=>s});var l=i(69241),n=i(29573),o=i(77069);let a=(0,n.zu)({extend:{classGroups:{"font-size":["text-1.5xl","text-3.5xl","text-2.5xl"],"font-weight":["font-body","font-button","font-question","font-subheader","font-landing-header"],"border-w":["border-landing-card-input"],"border-color":["!border-danger-border","!border-success-border"]}}}),s=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return a((0,l.$)(t))};o.kY},48467:(e,t,i)=>{"use strict";i.d(t,{c:()=>s});var l=i(70819),n=i(10241),o=i(33244),a=i(28141);let s=async(e,t)=>{let i=await fetch("".concat(a.zF,"?zip_code=").concat(e),{headers:{"X-Cheshire-Session-Token":t}});if(!i.ok)throw(0,n.mG)(o.K.ZipCodeRequest,0,i.status.toString()||"empty"),l.t.error("Error fetching zippy data: ".concat(i.status),{zipCode:e,jwt:t}),Error("Response status is not 200");let s=await i.json();if("found"===s.status&&s.data[0])(0,n.mG)(o.K.ZipCodeRequest,1,i.status.toString()||"empty");else throw(0,n.mG)(o.K.ZipCodeRequest,0,i.status.toString()||"empty"),Error("Error returned from zippy ".concat(s.status||"empty"));return{...s.data[0],county:s.data[0].county.replace(" County","")}}},54238:(e,t,i)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/form/[stage]",function(){return i(97425)}])},54305:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>v});var l=i(37876),n=i(72448),o=i(16418),a=i(14232),s=i(95378),r=i(80354),d=i(10038),u=i(97991),c=i(38818);let v=e=>{var t;let{currentStage:i,onClose:v,postDataAndNavigateToExit:m,show:h}=e,{answers:p,session:f,setAllAnswers:g}=(0,d.B)(e=>({setAllAnswers:e.setAllAnswers,answers:e.session.answers,session:e.session})),[y,x]=(0,a.useState)(!1),b="$[firstName], do you still want to save on car insurance? Quotes for your $[make] $[model] are just a click away.",S=null!==(t=(0,u.Ho)({heading:b,firstName:p.firstPersonFirstName,make:p.firstVehicleMake,model:p.firstVehicleModel}))&&void 0!==t?t:b,N=(0,u.dj)(S),C=N.includes("your are")?N.replace("your are","your car are"):N;return(0,a.useEffect)(()=>{p.completed&&h&&y&&((0,c.cC)({...f.answers,completed:!0}),m())},[p,h,y]),(0,l.jsx)(o.Modal,{buttons:[{label:(0,l.jsxs)("div",{className:"flex justify-center",children:[(0,l.jsx)("p",{className:"m-0 mr-2",children:"Get Quotes"}),(0,l.jsx)(n.A,{className:"my-auto size-6"})]}),onClick:async()=>{(0,s.q)(r.x.POP_UP_CLICKED,i.name,void 0,!1),g({carrierSelection:void 0,disclosure_text:"",tcpaShown:!1,completed:!0}),x(!0)},variant:"primary"}],content:C,inlineTitle:"Wait! âœ‹",modalClassName:"max-w-[37.5rem] p-6",onClose:v,show:h})}},64507:(e,t,i)=>{"use strict";i.d(t,{R:()=>l});let l=(e,t,i)=>e.filter(e=>{var l,n,o,a;return!((null==i?void 0:i.includes(null==e?void 0:null===(l=e.question)||void 0===l?void 0:l.name))||(null==i?void 0:i.includes(null==e?void 0:e.name)))&&(null===(a=null===(o=e.question)||void 0===o?void 0:null===(n=o.conditions)||void 0===n?void 0:n.every(e=>{let i=null==t?void 0:t[null==e?void 0:e.key];return(null==e?void 0:e.equals)?String(i)===e.equals:(null==e?void 0:e.notEquals)?String(i)!==e.notEquals:(null==e?void 0:e.greaterThan)?Number(i)>Number(e.greaterThan):null!=e&&!!e.lessThan&&Number(i)<Number(e.lessThan)}))||void 0===a||a)})},77069:(e,t,i)=>{"use strict";i.d(t,{A6:()=>d,AV:()=>x,Af:()=>w,BC:()=>N,E3:()=>b,EM:()=>S,F$:()=>m,FX:()=>a,Gx:()=>c,HL:()=>l,Js:()=>g,Td:()=>v,Z:()=>r,Zo:()=>o,aG:()=>p,bW:()=>y,dp:()=>s,eH:()=>n,hm:()=>h,iN:()=>T,ik:()=>C,kY:()=>E,rB:()=>u,rF:()=>f});let l="#333333",n="#4f4747",o="#928c8c",a="#fafafa",s="#ffffff",r="#21336b",d="#205bb9",u="#d6e4f4",c="#e0ecff",v="#4170bb",m="#a6bce0",h="#ff9b00",p="#ff8400",f="#d9a916",g="#f0c541",y="#f6dc8d",x="#097a2a",b="#46a762",S="#87c299",N="#59b35a",C="#bd3f28",w="#de5c44",T="#eb9d8f",E="#ff0000"},97425:(e,t,i)=>{"use strict";i.r(t),i.d(t,{__N_SSP:()=>t6,default:()=>t9});var l=i(37876),n=i(89099),o=i(14232),a=i(44264),s=i(45105),r=i.n(s),d=i(95378),u=i(80354),c=i(70819);let v=()=>{var e;if(!(null===(e=window.Anura)||void 0===e?void 0:e.getAnura))return;let t=0,i=setInterval(()=>{let e=window.Anura.getAnura().getResult(),l=window.Anura.getAnura().getError();e?((0,d.q)(u.x.ANURA_RESULT,e),clearInterval(i)):(l||15===t)&&((0,d.q)(u.x.ANURA_RESULT,l?"Error":"Timeout"),clearInterval(i)),t++},200)},m=e=>{let{subid:t,tid:i}=e.arrival.attributes,n=new URLSearchParams({...t&&{campaign:t},exid:e.arrival.uuid,instance:"3002360392",...(i||0===i)&&{source:String(i)},cache:Math.floor(1e12*Math.random()+1).toString()});return(0,l.jsx)(r(),{id:"anuraScript",src:"https://script.anura.io/request.js?".concat(n.toString()),strategy:"afterInteractive",onReady:v,onLoad:()=>{(0,d.q)(u.x.ANURA_LOADED,!0)},onError:t=>{var i;c.t.error("Error loading Anura script: ".concat(t),{arrivalId:null==e?void 0:null===(i=e.arrival)||void 0===i?void 0:i.uuid,anuraParams:n.toString(),error:t}),(0,d.q)(u.x.ANURA_LOADED,!1)}})};var h=i(64507),p=i(13922),f=i(49493),g=i(54587),y=i.n(g),x=i(95502),b=i(10038),S=i(97991),N=i(61285),C=i(67133),w=i(28141);let T=e=>[...new Set(e)],E=async()=>{let e=Number(w.ep),t=Number(w.a8),i=[];for(let l=e;l>=t;l-=1)i.push(String(l));return i},A=async e=>{let{year:t,type:i,make:l,model:n}=e,o=[];if(!t)return o;try{let e=await (0,C.Z)({year:t,type:i,make:l,model:n});e&&e.Options.length>0&&(e.Options.sort((e,t)=>e.localeCompare(t)),o=e.Options),o=T(o)}catch(e){c.t.error("Error fetching vehicle data: ".concat(e),{error:e,year:t,type:i,make:l,model:n})}return o},j=async e=>(await E()).map(t=>({checked:t===e,label:t,value:t})),k=async(e,t)=>{let{year:i,type:l,make:n,model:o}=t;return(await A({year:i,type:l,make:n,model:o})).map(t=>({checked:t===e,label:t,value:t}))},O=e=>{var t,i,l,n;let o=(0,b.B)(e=>e.session.answers);return{selectedYear:null!==(t=null==o?void 0:o["".concat(e,"VehicleYear")])&&void 0!==t?t:0,selectedVehicleType:null==o?void 0:o["".concat(e,"VehicleType")],selectedMake:null!==(i=null==o?void 0:o["".concat(e,"VehicleMake")])&&void 0!==i?i:"",selectedModel:null!==(l=null==o?void 0:o["".concat(e,"VehicleModel")])&&void 0!==l?l:"",selectedTrim:null!==(n=null==o?void 0:o["".concat(e,"VehicleTrim")])&&void 0!==n?n:""}},M=e=>{let{questionText:t,vertical:i,vehicleSelector:l="none",defaultQuestionText:n}=e,o=(0,b.B)(e=>e.session.answers),{selectedMake:a,selectedModel:s}=O(l);return"auto"===i?(null==t?void 0:t.includes("$[currentInsurer]"))?(()=>{var e;let i=null!==(e=o.currentAutoInsurer)&&void 0!==e?e:"";return(null==t?void 0:t.includes("$[currentInsurer]"))?(0,S.qg)(t,i):t})():(()=>{if(!(null==t?void 0:t.includes("$[make]")))return t;if("none"===l)return n;let e=(0,S.rd)(t,a);return(0,S.im)(e,s||"vehicle")})():(()=>{var e,i,l;let n=null!==(i=o.propertyType)&&void 0!==i?i:"",a=null!==(l=null===(e=N.Ai.find(e=>n===e.value))||void 0===e?void 0:e.key)&&void 0!==l?l:"",s=[x.hk.SINGLEFAMILY,x.hk.MULTIFAMILY,x.hk.MOBILEHOME].includes(n)?" home":"",r="".concat(a.toLowerCase()).concat(s);return t?(0,S.Ey)(t,r):"What type of property is this ".concat(r,"?")})()};var I=i(41803),D=i(16418),P=i(19834),_=i(27196),L=i(48828);let R=e=>{var t,i,n,a,s;let{questionText:r,onSubmit:d,submitButtonText:u,session:c,validationIconPosition:v}=e,{answers:m,setAnswer:h,setAllAnswers:f}=(0,b.B)(e=>({answers:e.session.answers,setAnswer:e.setAnswer,setAllAnswers:e.setAllAnswers})),g=Object.entries(m).length>0?m:null==c?void 0:c.answers,[x,S]=(0,o.useState)(null!==(s=g.firstPersonAge)&&void 0!==s?s:0),[N,C]=(0,o.useState)(!1),w=(0,o.useMemo)(()=>{var e,t;return(0,L.Gn)(x,null==c?void 0:null===(t=c.arrival)||void 0===t?void 0:null===(e=t.attributes)||void 0===e?void 0:e.vertical)},[x]),T=async()=>{let e=new Date;await f({...m,firstPersonAge:x,firstPersonBirthDay:e.getDate(),firstPersonBirthMonth:e.getMonth()+1,firstPersonBirthYear:e.getFullYear()-x}),d()},E=()=>{w?T():C(!0)};return(0,o.useEffect)(()=>{let e=document.querySelector("#age");null==e||e.focus()},[]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(D.Input,{id:"age",inputMode:"numeric",fieldClassName:I.JA.cn(N&&!w&&"mb-3"),label:r||"What age are you?",labelClassName:"font-heading font-question my-6 md:justify-center [&_img]:self-center text-[1.5rem]",maxLength:5,onChange:e=>{let t="object"==typeof e?e.target.value:e;h("firstPersonAge",Number(t)),S(Number(t))},onKeyDown:(0,_.Eu)(E),pattern:"[0-9]*",type:"number",min:"1",value:x?x.toString():"",validationOnLabel:N,validationProps:{active:N,content:(0,l.jsxs)("span",{className:"flex items-center gap-2 text-danger-text",children:["message"===v&&(0,l.jsx)(y(),{src:(0,P.xw)("red-exclamation-circle.svg"),alt:"error",width:24,height:27}),"Please enter a valid age."]}),position:"bottom",validator:()=>w}}),(0,l.jsx)(D.Button,{...(0,p.D$)(null===(t=c.damascusConfig)||void 0===t?void 0:t.global.theme,!0,!!(null==c?void 0:null===(a=c.damascusConfig)||void 0===a?void 0:null===(n=a.uiConfiguration)||void 0===n?void 0:null===(i=n.form)||void 0===i?void 0:i.primaryButtonAnimation)),label:null!=u?u:"Continue",onClick:E})]})};var B=i(62931);let F=e=>{let t=B.ZR.UNKNOWN;return["AK","ME"].includes(e)?t=B.ZR.CBL_50100:["AL","AR","CO","DC","ID","IL","IN","GA","KS","KY","MO","MS","MT","ND","NE","NH","NM","NY","OH","OK","OR","RI","SC","SD","TN","VA","VT","WA","WI","WV","WY"].includes(e)?t=B.ZR.CBL_2550:["AZ","DE","CA","LA","NJ","NV","PA"].includes(e)?t=B.ZR.CBL_1530:["CT","HI","IA","MA","MI"].includes(e)?t=B.ZR.CBL_2040:["MD","MN","NC","TX"].includes(e)?t=B.ZR.CBL_3060:"FL"===e?t=B.ZR.CBL_1020:"UT"===e&&(t=B.ZR.CBL_2565),t},V=e=>({[B.hY.ML]:F(e),[B.hY.LL]:B.ZR.CBL_50100,[B.hY.FC]:B.ZR.CBL_100300,[B.hY.EFC]:"WV"===e?B.ZR.CBL_100300:B.ZR.CBL_250500}),q={[B.hY.ML]:B.ZR.UNKNOWN,[B.hY.LL]:B.ZR.CBL_50100,[B.hY.FC]:B.ZR.CBL_100300,[B.hY.EFC]:B.ZR.CBL_250500},H=(e,t,i)=>{var l,n;let o=e?(0,_.e0)(e):void 0;t("currentBiLiability",null!==(n=(V(null!==(l=null==o?void 0:o.state)&&void 0!==l?l:"")||q)[i])&&void 0!==n?n:"")},Q=e=>{var t,i,n,a,s,r,c,v,m;let{questionText:h,onSubmit:f,submitButtonText:g,session:y}=e,[x,S]=(0,o.useState)(!1),{setAnswer:C}=(0,b.B)(e=>({setAnswer:e.setAnswer})),{currentInsurer:w,currentAutoInsurer:T}=y.answers,E=null===(t=y.damascusConfig)||void 0===t?void 0:t.global.theme,A=null!==(v=null==y?void 0:null===(n=y.arrival)||void 0===n?void 0:null===(i=n.attributes)||void 0===i?void 0:i.vertical)&&void 0!==v?v:"auto",j={label:"Other",value:"Company Not Listed"},k="auto"===A?T:w,O=("auto"===A?N.TM:N.sq).filter(e=>"Other"!==e.key).map(e=>({label:e.value,value:e.value})),M=[j,...O],[P,_]=(0,o.useState)(null!==(m=null===(a=M.find(e=>e.value===k))||void 0===a?void 0:a.label)&&void 0!==m?m:""),L=(0,o.useMemo)(()=>P.length>0&&M.some(e=>e.label===P),[P]),R=async()=>{if(L){var e;C("auto"===A?"currentAutoInsurer":"currentInsurer",null===(e=M.find(e=>e.label===P))||void 0===e?void 0:e.value),(0,d.q)(u.x.LAST_FORM_COMPLETED_STEP,"currentInsurer",void 0,!1),f();return}S(!0)};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"my-6",children:(0,l.jsx)(D.Label,{className:I.JA.cn("my-0 font-heading !text-2xl font-question md:justify-center [&_img]:self-center",x&&(L?"text-success-text":"text-danger-text")),id:"label",label:null!=h?h:"What company are you insured with?",showValidationState:x,isValid:L})}),(0,l.jsx)(D.Typeahead,{autoFocus:(0,p.PF)(y),onChange:e=>{var t;let i=M.filter(t=>t.value===e.value);(null===(t=i[0])||void 0===t?void 0:t.label)&&_(i[0].label)},filterOption:(e,t)=>""!==t?O.some(e=>{var i;return null===(i=e.label)||void 0===i?void 0:i.toLowerCase().includes(t.toLowerCase())})?e.label.toLowerCase().includes(t.toLowerCase())&&e.value!==j.value:e.value===j.value:e.value!==j.value,onInputChange:e=>{_(e)},hideOverEightOptions:!0,options:M,placeholder:"Type to search for insurer...",validationStatus:x?L:void 0,value:P}),x&&!L&&(0,l.jsx)("span",{className:"mt-2 text-danger-text",children:"Please enter your insurer"}),(0,l.jsx)(D.Button,{...(0,p.D$)(E,!0,!!(null==y?void 0:null===(c=y.damascusConfig)||void 0===c?void 0:null===(r=c.uiConfiguration)||void 0===r?void 0:null===(s=r.form)||void 0===s?void 0:s.primaryButtonAnimation)),label:null!=g?g:"Continue",onClick:R})]})};var U=i(25465);let Y=e=>{let{backgroundColor:t,borderColor:i,iconDetails:n,text:o}=e,{icon:a,iconEmoji:s,iconPosition:r}=n||{},d="right"===r&&"pl-4 pr-0",u=(0,U.v)([null==n?void 0:n.iconFill],null==n?void 0:n.iconOutline),c=(null==o?void 0:o.includes("\n"))?o.split("\n"):[];return(0,l.jsxs)("div",{className:I.JA.cn("mb-8 mt-4 flex items-center rounded-lg border border-success-border p-4 text-primary-text shadow-sm",!t&&"bg-white","right"===r&&"flex-row-reverse justify-between"),style:{backgroundColor:t,borderColor:i},children:[a&&(0,l.jsx)("span",{className:I.JA.cn("flex max-w-10 pr-4 [&_svg]:h-7",(null==n?void 0:n.iconAlignment)==="top"&&"self-start",d),children:u[a]}),s&&(0,l.jsx)("span",{className:I.JA.cn("pr-4 text-xl",d),children:s}),c.length>0?c.map(e=>(0,l.jsx)("div",{className:"px-2",dangerouslySetInnerHTML:{__html:e}},e)):o&&(0,l.jsx)("div",{className:"text-secondary-text [&_strong]:text-primary-text",dangerouslySetInnerHTML:{__html:o}})]})};var W=i(14685);let z=e=>{var t,i,n,a,s,r,c,v;let{questionText:m,onSubmit:h,notification:f,selector:g,submitButtonText:y,session:x}=e,{setAnswer:S}=(0,b.B)(e=>({setAnswer:e.setAnswer})),{answers:N}=x,C=null!==(v=null==x?void 0:null===(i=x.arrival)||void 0===i?void 0:null===(t=i.attributes)||void 0===t?void 0:t.vertical)&&void 0!==v?v:"auto",w="".concat(g,"PersonBirthDay"),T="".concat(g,"PersonBirthMonth"),E="".concat(g,"PersonBirthYear"),A="".concat(g,"PersonAge"),[j,k]=(0,o.useState)(N[w]),[O,M]=(0,o.useState)(N[T]),[P,_]=(0,o.useState)(N[E]),[R,B]=(0,o.useState)(N[A]),[F,V]=(0,o.useState)((0,L.Gn)(R,C)),[q,H]=(0,o.useState)(!1),Q=()=>{F?(S("".concat(g,"PersonBirthDay"),Number(j)),S("".concat(g,"PersonBirthMonth"),Number(O)),S("".concat(g,"PersonBirthYear"),Number(P)),S("".concat(g,"PersonAge"),R),(0,d.q)(u.x.LAST_FORM_COMPLETED_STEP,"".concat(g,"PersonDateOfBirth"),void 0,!1),h()):H(!0)};return(0,o.useEffect)(()=>{let e=document.querySelector("#dob-month-field");(0,p.PF)(x)&&(null==e||e.focus())},[]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(D.DateInput,{id:"dob",className:"p-0",fieldClassName:"bg-white h-auto",label:null!=m?m:"What is your birth date?",labelClassName:"font-heading font-question my-6 md:justify-center [&_img]:self-center text-[1.5rem]",maxDate:(0,L.Az)(C),minDate:new Date("1900-01-01"),onChange:e=>{let{month:t,day:i,year:l,isValid:n}=e;k(i),M(t),_(l),V(n),n&&B((0,L.Cb)(i,Number(t),l))},onSubmit:Q,dayFieldSettings:{value:null!=j?j:""},monthFieldSettings:{value:null!=O?O:""},yearFieldSettings:{value:null!=P?P:""},validationOnLabel:q,validationProps:{active:q,content:(0,l.jsx)("span",{className:"mt-3 text-danger-text",children:"Please enter a valid date of birth"}),position:"bottom",validator:()=>F}}),(null==f?void 0:f.position)==="below"&&(0,l.jsx)(Y,{...f}),(0,l.jsx)(D.Button,{...(0,p.D$)(null===(n=x.damascusConfig)||void 0===n?void 0:n.global.theme,!0,!!(null==x?void 0:null===(r=x.damascusConfig)||void 0===r?void 0:null===(s=r.uiConfiguration)||void 0===s?void 0:null===(a=s.form)||void 0===a?void 0:a.primaryButtonAnimation)),buttonClassName:I.JA.cn("mt-6",(null===(c=x.damascusConfig)||void 0===c?void 0:c.global.is3DButton)&&W.rG),label:null!=y?y:"Continue",onClick:Q})]})};var G=i(28926);let J=e=>{var t,i,n,a,s,r,c;let{onSubmit:v,questionText:m,selector:h,session:f,submitButtonText:g}=e,{answers:y}=f,{setAnswer:x}=(0,b.B)(e=>({setAnswer:e.setAnswer})),S=null!==(c=null==f?void 0:null===(i=f.arrival)||void 0===i?void 0:null===(t=i.attributes)||void 0===t?void 0:t.vertical)&&void 0!==c?c:"auto",N="".concat(h,"PersonBirthDay"),C="".concat(h,"PersonBirthMonth"),w="".concat(h,"PersonBirthYear"),T="".concat(h,"PersonAge"),[E,A]=(0,o.useState)(y[N]),[j,k]=(0,o.useState)(y[C]),[O,M]=(0,o.useState)(y[w]),[I,P]=(0,o.useState)(y[T]),[_,R]=(0,o.useState)((0,L.Gn)(I,S)),[B,F]=(0,o.useState)(!1),[V,q]=(0,o.useState)(""),H=(0,o.useCallback)(()=>{if(F(!0),j&&(1>Number(j)||Number(j)>12)){q("Please enter a valid month");return}if(E&&(1>Number(E)||Number(E)>31)){q("Please enter a valid day");return}if(O&&1900>Number(O)){q("Please enter a valid year");return}if(j&&E&&O){q("Please enter a valid date of birth");return}F(!1)},[j,E,O]),Q=()=>{if(!_||!j||!E||!O){F(!0),q("Please enter a valid date of birth");return}x(N,Number(E)),x(C,Number(j)),x(w,Number(O)),x(T,I),(0,d.q)(u.x.LAST_FORM_COMPLETED_STEP,"".concat(h,"PersonDateOfBirth"),void 0,!1),v()};return(0,o.useEffect)(()=>{let e=document.querySelector("#dob-month-field");(0,p.PF)(f)&&(null==e||e.focus())},[]),(0,o.useEffect)(()=>{_||H()},[_,E,j,O]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(D.DateInput,{id:"dob",className:"p-0",fieldClassName:"bg-white h-auto",labelClassName:(0,G.cn)("my-6 font-heading text-2xl font-question md:justify-center [&_img]:self-center",!_&&B?"text-danger-text":""),label:null!=m?m:"What is your birth date?",onChange:e=>{let{day:t,month:i,year:l,isValid:n}=e;A(t),k(i),M(l),R(n),n&&P((0,L.Cb)(t,Number(j),l))},onSubmit:Q,maxDate:(0,L.Az)(S),minDate:new Date("1900-01-01"),dayFieldSettings:{value:null!=E?E:""},monthFieldSettings:{value:null!=j?j:""},yearFieldSettings:{value:null!=O?O:""},validationOnLabel:B,validationProps:{active:B,content:(0,l.jsx)("span",{className:"mt-3 text-danger-text",children:V}),position:"below",validator:()=>_&&!B}}),(0,l.jsx)(D.Button,{...(0,p.D$)(null===(n=f.damascusConfig)||void 0===n?void 0:n.global.theme,!0,!!(null==f?void 0:null===(r=f.damascusConfig)||void 0===r?void 0:null===(s=r.uiConfiguration)||void 0===s?void 0:null===(a=s.form)||void 0===a?void 0:a.primaryButtonAnimation)),label:null!=g?g:"Continue",onClick:Q})]})},$=e=>{let{...t}=e,{version:i}=t;switch(i){case"modern":default:return(0,l.jsx)(z,{...t});case"extraValidation":return(0,l.jsx)(J,{...t})}};var Z=i(11926);let K=e=>{var t,i,n,a,s;let{helperText:r,onSubmit:d,questionText:u,submitButtonText:c,initiateMarketingServicesEligibilityCheck:v}=e,{session:m,setAnswer:h}=(0,b.B)(e=>({session:e.session,setAnswer:e.setAnswer})),{email:f}=m.answers,[g,y]=(0,o.useState)(null!=f?f:""),[x,S]=(0,o.useState)(!!f&&(0,L.DT)(f)),[N,C]=(0,o.useState)(!1),[w,T]=(0,o.useState)(!1),E=()=>{x?(v&&T(!0),d()):C(!0)};return(0,o.useEffect)(()=>{let e=document.querySelector("#email");(0,p.PF)(m)&&(null==e||e.focus())},[]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(D.Input,{id:"email",fieldClassName:I.JA.cn(N&&!x&&"mb-3"),label:u||"What is your email?",labelClassName:I.JA.cn("my-6 font-heading !text-2xl font-question md:justify-center [&_img]:self-center",r&&"mb-0"),helperText:r,helperTextClassName:"md:mx-auto mb-6 text-base",inputMode:"email",maxLength:320,onChange:e=>{let t="object"==typeof e?e.target.value:e,i=(0,L.DT)(t);y(t),S(i),i&&h("email",t)},onKeyDown:(0,_.Eu)(E),placeholder:"Email",type:"email",value:g,validationOnLabel:N,validationProps:{active:N,content:(0,l.jsx)("span",{className:"text-danger-text",children:"Please enter a valid email"}),position:"bottom",validator:()=>x}}),(0,l.jsx)(D.Button,{...(0,p.D$)(null===(t=m.damascusConfig)||void 0===t?void 0:t.global.theme,!w,!!(null==m?void 0:null===(a=m.damascusConfig)||void 0===a?void 0:null===(n=a.uiConfiguration)||void 0===n?void 0:null===(i=n.form)||void 0===i?void 0:i.primaryButtonAnimation)),onClick:E,buttonClassName:I.JA.cn("mt-6",(null===(s=m.damascusConfig)||void 0===s?void 0:s.global.is3DButton)&&W.rG),children:w?(0,l.jsx)(Z.A,{}):null!=c?c:"Continue"})]})},X=e=>{var t,i,n,a;let{questionText:s,onSubmit:r,submitButtonText:c,helperText:v,emailTypeaheadSuggestionType:m}=e,{session:h,setAnswer:f}=(0,b.B)(e=>({setAnswer:e.setAnswer,session:e.session})),{email:g}=h.answers,y=null===(t=h.damascusConfig)||void 0===t?void 0:t.global.theme,[x,S]=(0,o.useState)(null!=g?g:""),C=(0,o.useMemo)(()=>(0,L.DT)(x),[x]),[w,T]=(0,o.useState)(!1),E=(0,o.useMemo)(()=>null==x?void 0:x.split("@")[0],[x]),A="static"===m?N.lC:N.lK,j=async()=>{C?(f("email",x),(0,d.q)(u.x.LAST_FORM_COMPLETED_STEP,"email",void 0,!1),r()):T(!0)};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"my-6 md:text-center",children:[(0,l.jsx)(D.Label,{className:I.JA.cn("my-0 font-heading text-2xl font-question md:justify-center [&_img]:self-center",w&&(C?"text-success-text":"text-danger-text")),id:"label",label:null!=s?s:"What is your email?",showValidationState:w,isValid:C}),v&&(0,l.jsx)("p",{className:"mb-0 font-medium text-secondary-text",children:v})]}),(0,l.jsx)(D.Typeahead,{autoFocus:(0,p.PF)(h),filterOption:(e,t)=>{var i,l;if(t.includes("@")&&t.indexOf("@")===t.length-1&&"static"===m)return!0;let n=null===(i=t.split("@")[1])||void 0===i?void 0:i.toLowerCase();if(n){let t=e.value.substring(e.value.indexOf("@")+1,null===(l=e.value)||void 0===l?void 0:l.length);return null==t?void 0:t.startsWith(n,0)}return!1},hideListIfNoOptions:!0,onChange:e=>{S("".concat(E,"@").concat(e.value))},onInputChange:e=>{S(e)},optionComponent:e=>(0,l.jsxs)("span",{children:[E,"@",e.label]}),options:A,placeholder:"Email",splitInputCharacter:"@",validationStatus:w?C:void 0,value:x}),!C&&w&&(0,l.jsx)("span",{className:"mt-3 text-danger-text",children:"Please enter a valid email"}),(0,l.jsx)(D.Button,{...(0,p.D$)(y,!0,!!(null==h?void 0:null===(a=h.damascusConfig)||void 0===a?void 0:null===(n=a.uiConfiguration)||void 0===n?void 0:null===(i=n.form)||void 0===i?void 0:i.primaryButtonAnimation)),variant:"primary",label:null!=c?c:"Continue",onClick:j})]})},ee=e=>{let{...t}=e,{version:i}=t;switch(i){case"modern":default:return(0,l.jsx)(K,{...t});case"typeahead":return(0,l.jsx)(X,{...t})}};var et=i(1368),ei=i(77026),el=i(87604);let en=e=>{var t,i,n,a,s;let{submitButtonText:r,carrierSelection:c,onSubmit:v,pingAuction:m,session:h}=e,{answers:f,setAnswer:g,arrival:y}=(0,b.B)(e=>({answers:e.session.answers,setAnswer:e.setAnswer,arrival:e.session.arrival,pingAuctionInitiated:e.pingAuctionInitiated,carrierSelectionOptions:e.carrierSelectionOptions})),[x,N]=(0,o.useState)([]),[C,w]=(0,o.useState)(!1),{carrierOptions:T}=(0,ei.t)({arrival:y,carrierLimit:null==m?void 0:m.carrierLimit,currentStage:"carrier-selection",resetCarrierSelectionAnswer:!1,timeout:null==c?void 0:null===(t=c.interstitial)||void 0===t?void 0:t.timeout});(0,o.useEffect)(()=>{(0,d.q)("full-form-multi-seller","loaded"),(0,d.q)(u.x.LAST_PAGE_SEEN,"carrier-selection",void 0,!1)},[]);let E=(0,S.nj)(null!==(n=null==c?void 0:c.secondaryText)&&void 0!==n?n:"EverQuote and licensed agents from the options you select may contact you by phone at $[phone] to offer a personalized rate.",(0,el.Yn)(null!==(a=f.phone)&&void 0!==a?a:""));return(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-center text-2.5xl text-primary-text",children:null!==(s=null==c?void 0:c.questionText)&&void 0!==s?s:"\uD83D\uDCF2 Connect with agents"}),(0,l.jsx)("p",{className:"text-primary-text",children:E}),(0,l.jsx)(et.A,{carrierOptions:null!=T?T:[],setCarrierSelection:N,setSelectAllClicked:w}),(0,l.jsx)(D.Button,{...(0,p.D$)(null===(i=h.damascusConfig)||void 0===i?void 0:i.global.theme),"data-tf-element-role":"submit",label:null!=r?r:"Get Quotes",onClick:()=>{var e;let t=null!==(e=null==T?void 0:T.filter(e=>x.includes(e.affiliationUlid)))&&void 0!==e?e:[];(0,d.q)(u.x.SELECTED_MATCHES,x.length>0?(0,el.bL)(t):"none"),g("carrierSelection",x.length>0?t:[]),(0,d.q)(u.x.SELECT_ALL_CHECKED,C),v()}})]})},eo=(e,t,i)=>{let l;return l=""===e.trim()?"".concat(t," name cannot be blank"):e.trim().length<2?"".concat(t," name must be at least two characters"):"".concat(t," name is not a valid name"),"original"===i?"".concat(l,"."):l},ea=(e,t,i)=>{let l="object"==typeof e?e.target.value:e;t({value:l,valid:i(l)})},es=e=>{let{firstName:t,lastName:i,isAdditionalName:n,numberOfPeople:a,questionText:s,setFirstName:r,setLastName:d,session:u,showValidation:c,submit:v}=e;return(0,o.useEffect)(()=>{let e=document.querySelector("#firstName");u&&(0,p.PF)(u)&&(null==e||e.focus())},[]),(0,l.jsxs)("div",{className:I.JA.cn("flex flex-col gap-4",n&&"mt-6"),children:[(0,l.jsx)(D.Input,{id:"firstName",autoComplete:"given-name",label:s,labelClassName:I.JA.cn(1===a&&"my-6 font-heading !text-2xl font-question md:justify-center [&_img]:self-center"),placeholder:"First Name",onChange:e=>ea(e,r,L.yS),onKeyDown:(0,_.Eu)(v),name:"firstName",maxLength:50,type:"text",value:t.value,validationOnLabel:c,validationProps:{active:c,content:!t.valid&&(0,l.jsx)("span",{className:"pt-2 text-danger-text",children:eo(t.value,"First","modern")}),position:"bottom",validator:()=>t.valid&&i.valid}}),(0,l.jsx)(D.Input,{id:"lastName",autoComplete:"family-name",placeholder:"Last Name",onChange:e=>ea(e,d,L.yS),onKeyDown:(0,_.Eu)(v),value:i.value,name:"lastName",maxLength:50,showLabel:!1,type:"text",validationOnLabel:c,validationProps:{active:c,content:!i.valid&&(0,l.jsx)("span",{className:"pt-2 text-danger-text",children:eo(i.value,"Last","modern")}),position:"bottom",validator:()=>t.valid&&i.valid}})]})},er=(e,t,i,l)=>{let n=t.some(e=>{let{valid:t}=e;return!t});return e>=2&&!n&&(n=i.some(e=>{let{valid:t}=e;return!t})),3!==e||n||(n=l.some(e=>{let{valid:t}=e;return!t})),n},ed=(e,t,i,l,n,o,a)=>{!er(e,[t.firstName,t.lastName],i?[i.firstName,i.lastName]:[],l?[l.firstName,l.lastName]:[])&&o?(n("firstPersonFirstName",String(t.firstName.value)),n("firstPersonLastName",String(t.lastName.value)),e>=2&&i&&(n("secondPersonFirstName",String(i.firstName.value)),n("secondPersonLastName",String(i.lastName.value))),3===e&&l&&(n("thirdPersonFirstName",String(l.firstName.value)),n("thirdPersonLastName",String(l.lastName.value))),(0,d.q)(u.x.LAST_FORM_COMPLETED_STEP,"names",void 0,!1),o()):a&&a(!0)},eu=e=>{var t,i,n,a,s;let{questionText:r,onSubmit:d,submitButtonText:u,notification:c}=e,{session:v,setAnswer:m}=(0,b.B)(e=>({session:e.session,setAnswer:e.setAnswer})),{driverCount:h,firstPersonFirstName:f,firstPersonLastName:g,secondPersonFirstName:y,secondPersonLastName:x,thirdPersonFirstName:S,thirdPersonLastName:N}=v.answers,C=null!=h?h:1,[w,T]=(0,o.useState)({value:null!=f?f:"",valid:!!f}),[E,A]=(0,o.useState)({value:null!=g?g:"",valid:!!g}),[j,k]=(0,o.useState)({value:null!=y?y:"",valid:!!y}),[O,M]=(0,o.useState)({value:null!=x?x:"",valid:!!x}),[P,_]=(0,o.useState)({value:null!=S?S:"",valid:!!S}),[L,R]=(0,o.useState)({value:null!=N?N:"",valid:!!N}),[B,F]=(0,o.useState)(!1),V=()=>{ed(C,{firstName:w,lastName:E},{firstName:j,lastName:O},{firstName:P,lastName:L},m,d,F)};return(0,l.jsxs)(l.Fragment,{children:[C>1&&(0,l.jsx)("h1",{className:"my-6 text-2xl font-question text-primary-text md:text-center",children:"Who are your drivers?"}),(0,l.jsx)(es,{firstName:w,lastName:E,numberOfPeople:C,questionText:null!=r?r:"What is your name?",setFirstName:T,setLastName:A,session:v,showValidation:B,submit:V},"firstPersonName"),C>=2&&(0,l.jsx)(es,{firstName:j,lastName:O,isAdditionalName:!0,numberOfPeople:C,questionText:"What is your second driver's name?",setFirstName:k,setLastName:M,showValidation:B,submit:V},"secondPersonName"),3===C&&(0,l.jsx)(es,{firstName:P,lastName:L,isAdditionalName:!0,numberOfPeople:C,questionText:"What is your third driver's name?",setFirstName:_,setLastName:R,showValidation:B,submit:V},"thirdPersonName"),(null==c?void 0:c.position)==="below"&&(0,l.jsx)(Y,{...c}),(0,l.jsx)(D.Button,{...(0,p.D$)(null===(t=v.damascusConfig)||void 0===t?void 0:t.global.theme,!0,!!(null==v?void 0:null===(a=v.damascusConfig)||void 0===a?void 0:null===(n=a.uiConfiguration)||void 0===n?void 0:null===(i=n.form)||void 0===i?void 0:i.primaryButtonAnimation)),label:null!=u?u:"Continue",buttonClassName:I.JA.cn("mt-6",(null===(s=v.damascusConfig)||void 0===s?void 0:s.global.is3DButton)&&W.rG),onClick:V})]})};var ec=i(28802);let ev=e=>{var t,i,n,a,s,r,d;let{helperText:u,hideQuestionText:c,questionText:v,onSubmit:m,submitButtonText:h,title:f,subtitle:g}=e,{answers:y,session:x,setAnswer:S,isEligible:N}=(0,b.B)(e=>{var t,i,l,n;return{answers:e.session.answers,session:e.session,setAnswer:e.setAnswer,isEligible:null!==(n=null===(l=e.session)||void 0===l?void 0:null===(i=l.attributes)||void 0===i?void 0:null===(t=i.marketingServicesDetails)||void 0===t?void 0:t.isEligible)&&void 0!==n&&n}}),[C,w]=(0,o.useState)((0,el.Yn)(null!==(r=y.phone)&&void 0!==r?r:"")),[T,E]=(0,o.useState)(!!y.phone&&(0,L.FY)(y.phone)),[A,j]=(0,o.useState)(!1),k="Final Step! What is your phone number?";return v&&(k=null!==(d=(0,ec.ee)(y,v))&&void 0!==d?d:""),(0,o.useEffect)(()=>{let e=document.querySelector("#phone");(0,p.PF)(x)&&(null==e||e.focus()),S("carrierSelection",void 0)},[]),(0,l.jsxs)(l.Fragment,{children:[f&&(0,l.jsx)("p",{className:I.JA.cn("m-0 pb-2 pt-6 text-2xl font-bold text-primary-text",N?"text-3xl":"text-2xl"),children:f}),g&&(0,l.jsx)("p",{className:"m-0 pb-4 text-secondary-text",children:g}),(0,l.jsx)(D.Input,{id:"phone",fieldClassName:I.JA.cn(A&&!T&&"mb-3"),label:!0!==c&&k,labelClassName:I.JA.cn(!f&&!g&&"my-4 font-heading !text-2xl font-question md:justify-center [&_img]:self-center",u&&"mb-0"),helperText:(0,ec.ee)(y,u),helperTextClassName:"md:mx-auto mb-6 text-base",onChange:e=>(0,ec.k9)(e,C,w,E,S),onKeyDown:(0,_.Eu)(()=>(0,ec.h9)(T,m,j)),placeholder:"e.g. (202) 555-1234",inputMode:"tel",type:"tel",value:C,validationOnLabel:A,validationProps:{active:A,content:(0,l.jsx)("span",{className:"text-danger-text",children:"Please enter a valid phone number"}),position:"bottom",validator:()=>T}}),(0,l.jsx)(D.Button,{...(0,p.D$)(null===(t=x.damascusConfig)||void 0===t?void 0:t.global.theme,!0,!!(null==x?void 0:null===(a=x.damascusConfig)||void 0===a?void 0:null===(n=a.uiConfiguration)||void 0===n?void 0:null===(i=n.form)||void 0===i?void 0:i.primaryButtonAnimation)),buttonClassName:I.JA.cn("mb-0 mt-4",(null===(s=x.damascusConfig)||void 0===s?void 0:s.global.is3DButton)&&W.rG),label:null!=h?h:"Continue",onClick:()=>(0,ec.h9)(T,m,j)})]})},em=(e,t,i,l)=>{e||l("carrierSelection",i&&i.length>0?[i[0]]:[]),t&&l("carrierSelection",[])},eh=e=>{var t,i,n,a,s,r;let{helperText:c,questionText:v,onSubmit:m,submitButtonText:h="Get Quotes",disableSubmitButton:f=!1,carrierSelection:g,pingAuction:y,session:x}=e,{answers:N,setAnswer:C,arrival:w,carrierSelectionOptions:T}=(0,b.B)(e=>({setAnswer:e.setAnswer,answers:e.session.answers,arrival:e.session.arrival,pingAuctionInitiated:e.pingAuctionInitiated,carrierSelectionOptions:e.carrierSelectionOptions})),[E,A]=(0,o.useState)((0,el.Yn)(null!==(r=N.phone)&&void 0!==r?r:"")),[j,k]=(0,o.useState)(!!N.phone&&(0,L.FY)(N.phone)),[O,M]=(0,o.useState)(!1),{carrierOptions:P,isLoading:R}=(0,ei.t)({arrival:w,carrierLimit:null==y?void 0:y.carrierLimit,currentStage:"phone-simple-single-seller",resetCarrierSelectionAnswer:!1,timeout:null==g?void 0:null===(t=g.interstitial)||void 0===t?void 0:t.timeout});(0,o.useEffect)(()=>{let e=document.querySelector("#phone");(0,p.PF)(x)&&(null==e||e.focus())},[]),(0,o.useEffect)(()=>{if(g){let e=(0,ec.pe)(P)?P:T;if(em(R,!1,(0,ec.CX)(e),C),!R){let t=(0,ec.CX)(e);(0,d.q)(u.x.CARRIERS_DISPLAYED,JSON.stringify({matches:t?(0,el.bL)(t):[]}))}}},[P,R]),(0,o.useEffect)(()=>{g&&!R&&(0,d.q)(u.x.PHONE_CARRIER_SELECTION_SHOWN,!0)},[R]);let B=(()=>{if((0,ec.pe)(P)){let t=(0,ec.CX)(P);if((null==t?void 0:t[0])!==void 0){var e;let i=(0,S.Yk)(null!==(e=null==g?void 0:g.secondaryText)&&void 0!==e?e:"Click &#34;$[submitButtonText]&#34; for online options and a personalized quote over the phone from an agent with $[buyer].",t[0].normalizedName);return(0,S.SS)(i,h)}}return""})(),F=()=>{if(j&&g){let e=(0,ec.CX)(P);(0,d.q)(u.x.SELECTED_MATCHES,(null==e?void 0:e.length)?(0,el.bL)(e):"none")}(0,ec.h9)(j,m,M)};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(D.Input,{id:"phone",fieldClassName:I.JA.cn(O&&!j&&"mb-3"),label:v?(0,ec.ee)(N,v):"Final Step! What is your phone number?",labelClassName:I.JA.cn("my-6 text-2xl font-question md:justify-center [&_img]:self-center",c&&"mb-0"),helperText:(0,ec.ee)(N,c),helperTextClassName:"md:mx-auto mb-6 text-base",onChange:e=>(0,ec.k9)(e,E,A,k,C),onKeyDown:(0,_.Eu)(()=>F()),placeholder:"e.g. (202) 555-1234",inputMode:"tel",type:"tel",value:E,validationOnLabel:O,validationProps:{active:O,content:(0,l.jsx)("span",{className:"text-danger-text",children:"Please enter a valid phone number"}),position:"bottom",validator:()=>j}}),B&&(0,l.jsx)("p",{className:"m-0 my-2 py-2 text-sm text-secondary-text",children:(0,l.jsx)("span",{dangerouslySetInnerHTML:{__html:B}})}),(0,l.jsx)(D.Button,{"data-tf-element-role":"submit",...(0,p.D$)(null===(i=x.damascusConfig)||void 0===i?void 0:i.global.theme,!0,!!(null==x?void 0:null===(s=x.damascusConfig)||void 0===s?void 0:null===(a=s.uiConfiguration)||void 0===a?void 0:null===(n=a.form)||void 0===n?void 0:n.primaryButtonAnimation)),label:h,disabled:f&&!j,onClick:()=>F()})]})};var ep=i(99231),ef=i(92804),eg=i(66634),ey=i.n(eg),ex=i(11081);let eb=e=>{var t,i,n,a,s,r,d,u,c,v,m;let{helperText:h,onSubmit:f,contactCard:g}=e,{answers:y,session:x,setAnswer:N}=(0,b.B)(e=>({answers:e.session.answers,session:e.session,setAnswer:e.setAnswer})),[C,w]=(0,o.useState)((0,el.Yn)(null!==(u=y.phone)&&void 0!==u?u:"")),[T,E]=(0,o.useState)(!!y.phone&&(0,L.FY)(y.phone)),[A,j]=(0,o.useState)(!1),[k,O]=(0,o.useState)(!1),M=(0,ep.I6)(x),P=null===(t=x.damascusConfig)||void 0===t?void 0:t.global.marketingServicesPartner,R=null!==(c=null===(n=(0,ep.pA)(P))||void 0===n?void 0:null===(i=n.getConfig())||void 0===i?void 0:i.desirableSubmitButtonLabel)&&void 0!==c?c:"Agree & Request Callback",B={heading:null!==(v=null==g?void 0:g.heading)&&void 0!==v?v:"Let's connect.",description:(0,S.Ze)((null==g?void 0:g.description)||"It looks like you're a great match for $[carrier]\xae.","".concat(ey()(P)))};(0,o.useEffect)(()=>{let e=document.querySelector("#phone");(0,p.PF)(x)&&(null==e||e.focus())},[]);let F=()=>{var e,t;let i=null===(t=x.damascusConfig)||void 0===t?void 0:null===(e=t.global.marketingServicesPartner)||void 0===e?void 0:e.split("-").map(el.kR).join(" ");return(0,S.Yk)('Click "'.concat(null!=R?R:"Continue",'" to be contacted by a $[buyer] agency, including through the methods below'),null!=i?i:"")},V=()=>{T&&j(!0),(0,ec.h9)(T,f,O)};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(D.Card,{className:I.JA.cn("mt-6 w-auto max-w-site-default gap-0 p-0"),children:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"flex w-full items-start justify-start border-border-card p-0 sm:hidden",children:[(0,l.jsx)(ex.A,{photoUrl:(null==M?void 0:M.photoUrl)||""}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"my-0 -mt-1 text-xl font-bold text-primary-text",children:B.heading}),(0,l.jsx)("p",{className:"mb-2 mt-0 text-sm text-secondary-text",children:B.description}),(0,l.jsx)("div",{className:I.JA.cn("m-auto flex w-auto max-w-site-default flex-row justify-start gap-0 gap-x-3.5 p-0"),children:(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)("p",{className:"m-0 text-nowrap text-sm font-bold text-secondary-text",children:"".concat(null==M?void 0:M.agentName)}),(0,l.jsx)("p",{className:"mb-0 mt-1 text-nowrap text-sm text-secondary-text",children:"".concat(null==M?void 0:M.location)})]})})]})]}),(0,l.jsxs)("div",{className:"flex w-full flex-col items-center justify-center border-border-card p-0 max-sm:hidden",children:[(0,l.jsx)(ex.A,{photoUrl:(null==M?void 0:M.photoUrl)||""}),(0,l.jsx)("h3",{className:"my-0 text-2xl font-bold text-primary-text",children:B.heading}),(0,l.jsx)("p",{className:"mb-4 mt-0 text-center text-base text-secondary-text",children:B.description}),(0,l.jsx)("div",{className:I.JA.cn("m-auto flex w-auto max-w-site-default flex-row items-center justify-center gap-0 gap-x-3.5 p-0 max-lg:mx-6"),children:(0,l.jsxs)("div",{className:"flex items-center max-sm:hidden",children:[(0,l.jsx)("p",{className:"m-0 text-nowrap text-sm font-bold text-primary-text",children:"".concat(null==M?void 0:M.agentName)}),(0,l.jsx)("p",{className:"m-0 px-2 text-sm text-primary-text",children:"|"}),(0,l.jsx)("p",{className:"m-0 text-nowrap text-sm font-bold text-primary-text",children:"".concat(null==M?void 0:M.location)})]})})]})]})}),(0,l.jsx)(D.Input,{id:"phone",fieldClassName:I.JA.cn(k&&!T&&"mb-3"),label:"Contact Number",labelClassName:I.JA.cn("my-4 font-heading !text-2xl font-question md:justify-center [&_img]:self-center md:justify-start",h&&"mb-0"),helperText:(0,ec.ee)(y,h),helperTextClassName:"md:mx-auto mb-6 text-base",onChange:e=>(0,ec.k9)(e,C,w,E,N),onKeyDown:(0,_.Eu)(V),placeholder:"e.g. (202) 555-1234",inputMode:"tel",type:"tel",value:C,validationOnLabel:k,validationProps:{active:k,content:(0,l.jsx)("span",{className:"text-danger-text",children:"Please enter a valid phone number"}),position:"bottom",validator:()=>T}}),F()&&(0,l.jsx)("p",{className:"mb-0 mt-4 pb-0 text-sm text-secondary-text",children:(0,l.jsx)("span",{dangerouslySetInnerHTML:{__html:null!==(m=F())&&void 0!==m?m:""}})}),(0,l.jsx)(D.Button,{...(0,p.D$)(null===(a=x.damascusConfig)||void 0===a?void 0:a.global.theme,!0,!!(null==x?void 0:null===(d=x.damascusConfig)||void 0===d?void 0:null===(r=d.uiConfiguration)||void 0===r?void 0:null===(s=r.form)||void 0===s?void 0:s.primaryButtonAnimation)),buttonClassName:"mb-0 mt-4 disabled:cursor-auto",label:null!=R?R:"Continue",onClick:V,disabled:A})]})},eS=(e,t)=>e&&(null==t?void 0:t.phoneMatchTitle)&&(null==t?void 0:t.phoneMatchSubtitle)?{title:t.phoneMatchTitle,subtitle:t.phoneMatchSubtitle,questionText:"Phone Number"}:!e&&(null==t?void 0:t.phoneNoMatchTitle)&&(null==t?void 0:t.phoneNoMatchSubtitle)?{title:t.phoneNoMatchTitle,subtitle:t.phoneNoMatchSubtitle,questionText:"Phone Number"}:{},eN=e=>{var t,i,n,o;let{...a}=e,{version:s,session:r,marketingServices:d}=a,u=null===(i=r.attributes)||void 0===i?void 0:null===(t=i.marketingServicesDetails)||void 0===t?void 0:t.isEligible,c=null===(n=r.damascusConfig)||void 0===n?void 0:n.global.marketingServicesPartner,v=s;u&&(null===(o=(0,ep.pA)(c))||void 0===o?void 0:o.getConfig().type)===ef.t.AGENCY?v="marketingServicesAgency":d&&(v="marketingServiceMatches");let m=eS(!!u,d);switch(v){case"modern":default:return(0,l.jsx)(ev,{...a});case"marketingServiceMatches":return(0,l.jsx)(ev,{...a,...m});case"marketingServicesAgency":return(0,l.jsx)(eb,{...a});case"simpleSingleSeller":return(0,l.jsx)(eh,{...a})}};var eC=i(10241),ew=i(33244);let eT=async function(e){var t;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"marketplace",l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:10,s="?search=".concat(e,"&max_results=").concat(a,"&prefer_ratio=50");if(s=o?"".concat(s,"&include_only_zip_codes=").concat(null==n?void 0:n.zipcode):"".concat(s,"&prefer_geolocation=city"),n&&(null!==(t=n.entries)&&void 0!==t?t:0)>0){let{city:e,entries:t,secondary:i="",state:l,street_line:o,zipcode:a}=n;s+="&selected=".concat(o," ").concat(encodeURIComponent(i)," (").concat(t,") ").concat(e," ").concat(l," ").concat(a)}let r=await fetch("/api/addresses/verified_suggestions".concat(s));if((0,eC.W4)(ew.K.SmartyStreetsRequest,+(null!=r&&!!r.ok),l,i),!r.ok)throw Error("Response status is not 200");let d=await r.json();return null!=d?d:[]};var eE=i(48467),eA=i(78766);let ej=e=>"".concat(e.secondary).concat(e.street_line).concat(e.city),ek=(e,t)=>e.map(e=>({...e,county:t.county,label:e.street_line,value:"".concat(e.secondary).concat(e.street_line).concat(e.city)})),eO=e=>{var t,i,n,a,s,r,c,v,m,h,f,g,y,x,S;let{questionText:N,onSubmit:C,session:w,submitButtonText:T,address:E,helperText:A}=e,j=null!==(c=null==E?void 0:E.filterByZip)&&void 0!==c&&c,k=null!==(v=null==w?void 0:null===(i=w.arrival)||void 0===i?void 0:null===(t=i.attributes)||void 0===t?void 0:t.vertical)&&void 0!==v?v:"auto",O=null===(n=w.damascusConfig)||void 0===n?void 0:n.global.theme,{answers:M,setAllAnswers:P}=(0,b.B)(e=>({answers:e.session.answers,setAllAnswers:e.setAllAnswers})),[_,R]=(0,o.useState)(null!==(m=M.streetAddress)&&void 0!==m?m:""),[B,F]=(0,o.useState)(!1),[V,q]=(0,o.useState)(!1),[H,Q]=(0,o.useState)([]),[U,Y]=(0,o.useState)(_),[W,z]=(0,o.useState)(U),G=(0,o.useMemo)(()=>(0,L.sB)(_),[_]),J=[],$=_.includes(","),[Z,K]=null!==(h=_.split(","))&&void 0!==h?h:[],X=$&&K?K.trim():"",ee=$&&Z?Z:_,et={city:null!==(f=null==M?void 0:M.city)&&void 0!==f?f:"",entries:+!!$,secondary:X,state:null!==(g=null==M?void 0:M.state)&&void 0!==g?g:"",street_line:ee,zipcode:null!==(y=null==M?void 0:M.zip)&&void 0!==y?y:"",county:null!==(x=null==M?void 0:M.county)&&void 0!==x?x:"",label:W,value:"".concat(X).concat(ee).concat(null!==(S=null==M?void 0:M.city)&&void 0!==S?S:"")},[ei,el]=(0,o.useState)(et),en=(0,eA.Y)(),eo=(0,o.useCallback)(async(e,t,i)=>{try{let l=await (0,eE.c)(e,String(en));el({city:l.city,county:l.county,entries:0,secondary:null!=i?i:ei.secondary,state:l.state,street_line:null!=t?t:ei.street_line,zipcode:l.zipCode,label:null!=t?t:ei.street_line,value:"".concat(null!=i?i:ei.secondary).concat(null!=t?t:ei.street_line).concat(l.city)}),await P({...M,zip:null==l?void 0:l.zipCode,city:(null==l?void 0:l.city)||"",state:(null==l?void 0:l.state)||""})}catch(t){J.push(e)}},[en]),ea=async()=>{try{var e,t,i,l;if((null!==(t=null==ei?void 0:null===(e=ei.street_line)||void 0===e?void 0:e.length)&&void 0!==t?t:0)>0){let{suggestions:e}=await eT(U,null!==(l=null==w?void 0:null===(i=w.attributes)||void 0===i?void 0:i.brand)&&void 0!==l?l:"marketplace",k,ei,j);e&&(e.length>0?Q(e):Q([]))}}catch(e){return[]}},es=async e=>{el(e);let{street_line:t,entries:i=0,secondary:l,zipcode:n}=e;if(i>1)z(e.street_line),e.street_line===U&&ea(),Y(e.street_line);else{var o,a,s;let i="".concat(t).concat(""!==l?", ".concat(l):"");z(i),Y(""),R(i),(0,d.q)(u.x.SELECTED_SUGGESTED_ADDRESS,i),P({...M,streetAddress:null==e?void 0:e.street_line,zip:null==e?void 0:e.zipcode,city:null!==(o=null==e?void 0:e.city)&&void 0!==o?o:"",state:null!==(a=null==e?void 0:e.state)&&void 0!==a?a:"",county:null!==(s=e.county)&&void 0!==s?s:""}),/^\d{5}$/.test(n)&&!J.includes(n)&&await eo(n,t,l),q(!1),Q([])}};return(0,o.useEffect)(()=>{I.HP.isMobile()&&!O&&window.scrollTo({top:170,behavior:"smooth"}),V&&""!==U&&ea()},[U]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"my-6 md:text-center",children:[(0,l.jsx)(D.Label,{className:I.JA.cn("my-0 font-heading !text-2xl font-question md:justify-center [&_img]:self-center",B&&(G?"text-success-text":"text-danger-text")),id:"label",label:null!=N?N:"What is your street address?",showValidationState:B,isValid:G}),A&&(0,l.jsx)("p",{className:"mb-0 font-medium text-secondary-text",children:A})]}),(0,l.jsx)(D.Typeahead,{autoFocus:(0,p.PF)(w),closeMenuOnSelect:!1,controlShouldRenderValue:!1,filterOption:()=>!0,getOptionValue:ej,hideListIfNoOptions:!0,id:"address-select",inputValue:W,onChange:es,onInputChange:(e,t)=>{let{action:i}=t;if("input-change"===i){if(q(!0),""===e)Q([]),el(et),z(e),Y(e);else{var l,n,o,a;let t=e;e.includes(",")&&(t=e.split(",")[0].trim()),el({city:null!==(l=null==ei?void 0:ei.city)&&void 0!==l?l:"",entries:0,secondary:"",state:null!==(n=null==ei?void 0:ei.state)&&void 0!==n?n:"",street_line:t,zipcode:null!==(o=null==ei?void 0:ei.zipcode)&&void 0!==o?o:"",county:null!==(a=null==ei?void 0:ei.county)&&void 0!==a?a:"",label:t,value:ej(ei)}),z(t),Y(t)}R(e)}},optionComponent:e=>{let{city:t,entries:i,secondary:n,street_line:o,state:a,zipcode:s}=e,r="";return i&&"number"==typeof i&&i>1?r="(".concat(i," entries) "):n&&(r="".concat(n," ")),(0,l.jsxs)("div",{className:"cursor-pointer",children:[(0,l.jsx)("b",{children:o})," ".concat(r).concat(t,", ").concat(a," ").concat(s)]})},options:ek(H,ei),placeholder:"e.g. 1 Main Street",validationStatus:B?G:void 0,value:ei}),(null==ei?void 0:ei.city)&&(null==ei?void 0:ei.state)&&(null==ei?void 0:ei.zipcode)?(e=>{let{city:t,state:i,zipcode:n}=e;return(0,l.jsx)("p",{className:"mb-0 mt-3 text-lg font-medium text-primary-text",children:"".concat(t,", ").concat(i," ").concat(n)})})(ei):null,B&&!G&&(0,l.jsx)("span",{className:"mt-3 text-danger-text",children:"Please enter a valid street address"}),(0,l.jsx)(D.Button,{...(0,p.D$)(O,!0,!!(null==w?void 0:null===(r=w.damascusConfig)||void 0===r?void 0:null===(s=r.uiConfiguration)||void 0===s?void 0:null===(a=s.form)||void 0===a?void 0:a.primaryButtonAnimation)),label:null!=T?T:"Continue",onClick:()=>{if(G){var e,t,i;(0,d.q)(u.x.LAST_FORM_COMPLETED_STEP,"streetAddress",void 0,!1),P({...M,streetAddress:ei.street_line,zip:null==ei?void 0:ei.zipcode,city:null!==(e=null==ei?void 0:ei.city)&&void 0!==e?e:"",state:null!==(t=null==ei?void 0:ei.state)&&void 0!==t?t:"",county:null!==(i=ei.county)&&void 0!==i?i:""}),C()}else F(!0)}})]})};var eM=i(1929);let eI=async e=>{let{address:t,city:i,jwt:l,state:n,zipCode:o}=e,a=new Headers;return a.append("Content-Type","application/json"),a.append("Cookie","session.uuid=".concat(l)),await fetch("/next/api/fenris",{method:"POST",headers:a,credentials:"same-origin",body:JSON.stringify({addressLine1:t,city:i,state:n,zipCode:o})})},eD=async e=>{try{var t;let i=await eI(e),l=await i.json();if(!i.ok){c.t.error("Error fetching property details: ".concat(l.detail));return}return null==l?void 0:null===(t=l.document)||void 0===t?void 0:t.buildingCharacteristics}catch(e){c.t.error("Error fetching property details",{error:e});return}},eP=e=>{switch(e){case"Townhouse (Residential)":case"Row House (Residential)":return x.hk.TOWNHOME;case"Single Family Residential (Assumed)":case"Rural/Agricultural Residence":case"Residential-Vacant Land":case"Commercial (General)":case"Residential (General) (Single)":default:return x.hk.SINGLEFAMILY;case"Apartments (generic)":case"Multi-Family Dwellings (Generic, any combination 2+)":case"Triplex (3 units, any combination)":case"Quadruplex (4 units, any combination)":case"Apartment House (5+ units)":case"Garden Apt, Court Apt (5+ units)":return x.hk.MULTIFAMILY;case"Mobile/Manufactured Home (regardless of Land ownership)":case"Mobile Home Park, Trailer Park":case"Modular/Pre-Fabricated Homes":return x.hk.MOBILEHOME;case"Duplex (2 units, any combination)":return x.hk.DUPLEX;case"Condominium Unit (Residential)":return x.hk.CONDOMINIUM}},e_=e=>[...Array(6).keys()].slice(1).includes(e)?e:5,eL=(e,t)=>{let i=[...Array(6).keys()].slice(1),l=e+t;return i.includes(l)?l:5},eR=e=>{switch(e){case"Asphalt":case"Built-Up":case"Composition Shingle":case"Roll Composition":case"Shingle (Not Wood)":case"Tar & Gravel":return x.q3.ASPHALTSHINGLE;case"Wood Shake/ Shingles":case"Wood":return x.q3.WOODSHINGLE;case"Ceramic tile":case"Clay tile":case"Concrete tile":case"Tile":return x.q3.TILESHINGLE;case"Copper":case"Tin":case"Metal":case"Aluminum":case"Steel":return x.q3.METALROOF;default:return x.q3.OTHER}},eB=e=>{let t=10*Math.floor(e/10)+5,i=Object.entries(x.pd).find(e=>{let[i,l]=e;return l===t});return null==i?void 0:i[1]},eF=e=>{let t=500*Math.round(e/500);if(t<=500)return x.Jf.UP_TO_500;if(t>5e3)return x.Jf.OVER_5001;let i=Object.entries(x.Jf).find(e=>{let[i,l]=e;return l===t});return null==i?void 0:i[1]},eV=e=>{let t=null==e?void 0:e.useType,i=null==e?void 0:e.bedrooms,l=null==e?void 0:e.bathrooms,n=null==e?void 0:e.partialBathrooms,o=null==e?void 0:e.roofCovering,a=null==e?void 0:e.yearBuilt,s=null==e?void 0:e.totalArea,r={...t&&{propertyType:eP(t)},...i&&{bedrooms:e_(i)},...l&&{bathrooms:eL(l,null!=n?n:0)},...o&&{roofType:eR(o)},...a&&{decadeBuilt:eB(a)},...s&&{squareFootage:eF(s)}};return c.t.debug("Mapped Fenris Answers",{rawResponse:e,mappedAnswers:r}),r},eq=["propertyType","bedrooms","bathrooms","roofType","decadeBuilt","squareFootage"];var eH=i(86564);let eQ=e=>{var t,i,n,a,s,r,c,v,m,h,f,g,y,x,S,N,C,w,T;let{prepopPropertyDetails:E,questionText:A,onSubmit:j,session:k,address:O,submitButtonText:M,helperText:P}=e,R=null!==(m=null==k?void 0:null===(i=k.arrival)||void 0===i?void 0:null===(t=i.attributes)||void 0===t?void 0:t.vertical)&&void 0!==m?m:"auto",B=null===(n=k.damascusConfig)||void 0===n?void 0:n.global.theme,F=null!==(h=null==O?void 0:O.filterByZip)&&void 0!==h&&h,{answers:V,setAllAnswers:q,setAttribute:H}=(0,b.B)(e=>({answers:e.session.answers,setAllAnswers:e.setAllAnswers,setAttribute:e.setAttribute})),[Q,U]=(0,o.useState)(null!==(f=V.streetAddress)&&void 0!==f?f:""),[Y,z]=(0,o.useState)(!1),[G,J]=(0,o.useState)(!1),[$,Z]=(0,o.useState)([]),[K,X]=(0,o.useState)(Q),[ee,et]=(0,o.useState)(K),ei=null===(a=(0,_.e0)(k))||void 0===a?void 0:a.zip,{isValidZip:el,checkZipIsValid:en,setIsValidZip:eo,zippyGeo:ea}=(0,eM.s)(ei,void 0,!!ei),es=(0,o.useMemo)(()=>(0,L.sB)(Q),[Q]),er=(0,o.useMemo)(()=>el&&es,[el,es]),ed=Q.includes(","),[eu,ec]=null!==(g=Q.split(","))&&void 0!==g?g:[],ev=ed&&ec?ec.trim():"",em=ed&&eu?eu:Q,eh="".concat(em).concat(""!==ev?", ".concat(ev):""),ep={city:null!==(y=null==V?void 0:V.city)&&void 0!==y?y:"",entries:+!!ed,secondary:ev,state:null!==(x=null==V?void 0:V.state)&&void 0!==x?x:"",street_line:eh,zipcode:null!==(N=null!==(S=null==V?void 0:V.zip)&&void 0!==S?S:ei)&&void 0!==N?N:"",county:null!==(C=null==V?void 0:V.county)&&void 0!==C?C:"",label:ee,value:"".concat(ev).concat(em).concat(null!==(w=null==V?void 0:V.city)&&void 0!==w?w:"")},[ef,eg]=(0,o.useState)(ep),ey=(0,o.useMemo)(()=>(null==ef?void 0:ef.city)&&(null==ef?void 0:ef.state)&&(null==ef?void 0:ef.zipcode)?(e=>{let{city:t,state:i,zipcode:n}=e;return(0,l.jsx)("p",{className:"mb-0 mt-3 text-lg font-medium text-primary-text",children:"".concat(t,", ").concat(i," ").concat(n)})})(ef):null,[ef]),ex=async(e,t)=>{var i,l,n,o,a,s;let r="".concat(e).concat(""!==t?", ".concat(t):"");eg({city:null!==(i=null==ea?void 0:ea.city)&&void 0!==i?i:"",county:null!==(l=null==ea?void 0:ea.county)&&void 0!==l?l:"",entries:0,secondary:null!=t?t:ef.secondary,state:null!==(n=null==ea?void 0:ea.state)&&void 0!==n?n:"",street_line:null!=e?e:r,zipcode:null!==(o=null==ea?void 0:ea.zipCode)&&void 0!==o?o:"",label:null!=r?r:"",value:"".concat(null!=t?t:ef.secondary).concat(null!=e?e:ef.street_line).concat(null!==(a=null==ea?void 0:ea.city)&&void 0!==a?a:"")}),await q({...V,zip:null!==(s=null==ea?void 0:ea.zipCode)&&void 0!==s?s:"",city:(null==ea?void 0:ea.city)||"",state:(null==ea?void 0:ea.state)||""})},eb=async()=>{try{var e,t,i,l;if((null!==(t=null==ef?void 0:null===(e=ef.street_line)||void 0===e?void 0:e.length)&&void 0!==t?t:0)>0){let{suggestions:e}=await eT(K,null!==(l=null==k?void 0:null===(i=k.attributes)||void 0===i?void 0:i.brand)&&void 0!==l?l:"marketplace",R,ef,F);e&&(e.length>0?Z(e):Z([]))}}catch(e){return[]}},eS=async(e,t)=>{let{action:i}=t;if("input-change"===i){if(J(!0),""===e)Z([]),eg(ep),et(e),await en(ep.zipcode),X(e);else{var l,n,o,a;eg({city:null!==(l=null==ef?void 0:ef.city)&&void 0!==l?l:"",entries:0,secondary:"",state:null!==(n=null==ef?void 0:ef.state)&&void 0!==n?n:"",street_line:e,zipcode:null!==(o=null==ef?void 0:ef.zipcode)&&void 0!==o?o:"",county:null!==(a=null==ef?void 0:ef.county)&&void 0!==a?a:"",label:e,value:ej(ef)}),et(e),X(e)}U(e)}},eN=async e=>{let t="object"==typeof e?e.target.value:e;eo(!1),eg({city:"",entries:0,secondary:"",state:"",street_line:"",zipcode:null!=t?t:"",label:"",value:""}),et(""),U(""),5===t.length&&await en(t)},eC=async e=>{eg(e);let{street_line:t,entries:i=0,secondary:l,zipcode:n}=e;if(i>1)et(e.street_line),X(e.street_line),eb();else{let i="".concat(t).concat(""!==l?", ".concat(l):"");et(i),X(""),U(i),(0,d.q)(u.x.SELECTED_SUGGESTED_ADDRESS,i,void 0,!1),en(n),J(!1),Z([]),q({...V,streetAddress:i,zip:null==e?void 0:e.zipcode,city:(null==e?void 0:e.city)||"",state:(null==e?void 0:e.state)||"",county:e.county||""})}},ew=async()=>{var e;H("skipQuestions",(0,eH.ht)(null==k?void 0:null===(e=k.attributes)||void 0===e?void 0:e.skipQuestions,eq));let t=Object.fromEntries(eq.map(e=>[e,void 0]));await q({...t})},eE=async(e,t,i,l)=>{var n,o,a;let s=await eD({address:e||"",city:t||"",jwt:(null===(o=k.arrival)||void 0===o?void 0:null===(n=o.attributes)||void 0===n?void 0:n.jwt)||"",state:i||"",zipCode:l||""});if(await ew(),s){let e=eV(s);await q({...e}),H("skipQuestions",(0,eH.B0)(null==k?void 0:null===(a=k.attributes)||void 0===a?void 0:a.skipQuestions,Object.keys(e)))}},eA=async()=>{if(er){(0,d.q)(u.x.LAST_FORM_COMPLETED_STEP,"streetAddress",void 0,!1);let e="".concat(em).concat(""!==ev?", ".concat(ev):"");await q({...V,streetAddress:e,zip:null==ef?void 0:ef.zipcode,city:(null==ef?void 0:ef.city)||"",state:(null==ef?void 0:ef.state)||"",county:ef.county||""}),E&&await eE(e,null==ef?void 0:ef.city,null==ef?void 0:ef.state,null==ef?void 0:ef.zipcode),j()}else z(!0)};return(0,o.useEffect)(()=>{I.HP.isMobile()&&!B&&window.scrollTo({top:340,behavior:"smooth"}),G&&""!==K&&eb()},[K]),(0,o.useEffect)(()=>{(null==ea?void 0:ea.zipCode)&&ex(null==ef?void 0:ef.street_line,null==ef?void 0:ef.secondary)},[ea]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"my-6 md:text-center",children:[(0,l.jsx)(D.Label,{className:I.JA.cn("my-0 font-heading !text-2xl font-question md:justify-center [&_img]:self-center",Y&&(es?"text-success-text":"text-danger-text")),id:"label",label:null!=A?A:"What is your street address?",showValidationState:Y,isValid:er}),P&&(0,l.jsx)("p",{className:"mb-0 font-medium text-secondary-text",children:P})]}),(0,l.jsx)(D.Input,{id:"zipCode",inputMode:"numeric",fieldClassName:Y&&!el?"mb-2":"mb-4",label:"ZIP Code",labelClassName:"flex mb-2 font-bold",maxLength:5,onChange:eN,pattern:"[0-9]*",placeholder:"e.g. 11102",type:"tel",value:null!==(T=null==ef?void 0:ef.zipcode)&&void 0!==T?T:"",validationOnLabel:Y,validationProps:{active:Y,content:(0,l.jsx)("span",{className:"mb-4 text-danger-text",children:"Please enter a valid ZIP Code"}),position:"bottom",validator:()=>el}}),(0,l.jsx)(D.Label,{className:"mb-2 flex font-bold",id:"label",label:"Street Address",showValidationState:Y,isValid:es}),(0,l.jsx)(D.Typeahead,{autoFocus:(0,p.PF)(k),closeMenuOnSelect:!1,controlShouldRenderValue:!1,filterOption:()=>!0,getOptionValue:ej,hideListIfNoOptions:!0,id:"address-select",inputValue:ee,onChange:eC,onInputChange:eS,optionComponent:e=>{let{city:t,entries:i,secondary:n,street_line:o,state:a,zipcode:s}=e,r="";return i&&"number"==typeof i&&i>1?r="(".concat(i," entries) "):n&&(r="".concat(n," ")),(0,l.jsxs)("div",{className:"cursor-pointer",children:[(0,l.jsx)("b",{children:o})," ".concat(r).concat(t,", ").concat(a," ").concat(s)]})},options:ek($,ef),placeholder:"e.g. 1 Main Street",validationStatus:Y?er:void 0,value:ef}),ey,Y&&!es&&(0,l.jsx)("span",{className:"mt-2 text-danger-text",children:"Please enter a valid Street Address"}),(0,l.jsx)(D.Button,{...(0,p.D$)(B,!0,!!(null==k?void 0:null===(c=k.damascusConfig)||void 0===c?void 0:null===(r=c.uiConfiguration)||void 0===r?void 0:null===(s=r.form)||void 0===s?void 0:s.primaryButtonAnimation)),label:null!=M?M:"Continue",onClick:eA,buttonClassName:I.JA.cn("my-4",(null===(v=k.damascusConfig)||void 0===v?void 0:v.global.is3DButton)&&W.rG)})]})};var eU=i(97841);let eY=e=>{var t,i;let{choices:n,cols:a,hideInput:s,iconDetails:r,isSingleColumn:d,onChange:u,choiceSelectionAnimation:c}=e,{session:v}=(0,b.B)(e=>({session:e.session})),m=null===(t=v.damascusConfig)||void 0===t?void 0:t.global.theme,h=m&&!m.name,p="\n    .themedHover {\n      &:hover {\n        background-color: ".concat(null==m?void 0:null===(i=m.lowEmphasisPrimaryColor)||void 0===i?void 0:i.light," !important;\n      }\n    }\n  ");return(0,l.jsxs)("div",{className:I.JA.cn("grid w-full gap-4",(()=>{let e=[];return"number"==typeof a?"grid-cols-".concat(a):(a.phone&&e.push("grid-cols-".concat(a.phone)),a.tablet&&e.push("md:grid-cols-".concat(a.tablet)),a.desktop&&e.push("lg:grid-cols-".concat(a.desktop)),e.join(" "))})()),tabIndex:void 0,children:[h&&eU.b&&(0,l.jsx)("style",{children:p}),n.map(e=>{var t,i,l;return(0,o.createElement)(D.Choice,{...e,checked:e.checked,className:I.JA.cn("w-full font-bold",c&&"transition-transform duration-100 active:scale-95",d&&"[&_div]:w-full [&_div]:flex-row-reverse [&_div]:justify-between lg:[&_div]:flex-col lg:[&_div]:justify-center",h&&"themedHover",e.checked&&e.isInvalid&&"border-danger-border bg-white text-danger-text [&_div]:!border-danger-border"),description:e.description,style:{color:null==m?void 0:null===(t=m.lowEmphasisPrimaryColor)||void 0===t?void 0:t.dark,borderColor:null==m?void 0:null===(i=m.lowEmphasisPrimaryColor)||void 0===i?void 0:i.default,backgroundColor:e.checked&&(null==m?void 0:null===(l=m.lowEmphasisPrimaryColor)||void 0===l?void 0:l.light)},key:e.value,mode:"radio",onChange:e=>u(e),hideInput:s,iconDetails:r})})]})},eW=e=>{let{selectedVehicleType:t,setSelectedVehicleType:i,buttonType:n}=e;return(0,l.jsxs)("button",{type:"button",onClick:e=>{i(e.currentTarget.value)},value:n,className:I.JA.cn("flex h-11 flex-1 cursor-pointer items-center justify-center gap-2 rounded-component border-white bg-white px-8 py-4",t===n&&"border border-toggle-selected-border bg-toggle-selected-bg shadow-sm"),children:[(0,U.v)([t===n?"var(--toggle-selected-text)":"var(--text-toggle)"],!1,"size-6")[null!=n?n:"car"],(0,l.jsx)("p",{className:I.JA.cn("text-lg font-bold capitalize",t===n?"text-toggle-selected-text":"text-toggle-text"),children:n})]})},ez=e=>{let{vehicleType:t,setVehicleType:i,isMotorcycleDefaulted:n}=e;return(0,l.jsxs)("div",{className:I.JA.cn("mb-6 flex items-center gap-2 self-stretch rounded-card border border-border-card bg-toggle-bg p-2",n&&"flex-row-reverse"),children:[(0,l.jsx)(eW,{selectedVehicleType:t,setSelectedVehicleType:i,buttonType:"car"}),(0,l.jsx)(eW,{selectedVehicleType:t,setSelectedVehicleType:i,buttonType:"motorcycle"})]})},eG=(e,t,i,n,o,a,s,r)=>(0,l.jsxs)(l.Fragment,{children:[!!e.length&&(0,l.jsx)(D.Select,{id:"vehicle-make-select",...(0,p.nT)(s),fieldClassName:"w-full",options:e,onChange:t,placeholder:i?n:"Select other make"}),i&&(0,l.jsx)(D.Button,{...(0,p.D$)(s,!0,r),label:"Continue",onClick:o,buttonClassName:a?W.rG:"",variant:"primary"})]}),eJ=(e,t)=>"Looks like we don't have any ".concat(e,"s for ").concat(t||"that year"),e$=e=>{var t,i,n,a,s,r,c,v,m,h;let{questionText:p,onSubmit:f,selector:g,sendDataExpando:x=!1,session:S,filterByVehicleType:C,filterByMotorcycle:w}=e,{selectedYear:T,selectedMake:E,selectedVehicleType:A}=O(g),j="".concat(g,"VehicleMake"),M=(0,b.B)(e=>e.setAnswer),[I,D]=(0,o.useState)(String(E)),[P,_]=(0,o.useState)([]),[L,R]=(0,o.useState)([]),[B,F]=(0,o.useState)(!!(P.length||L.length)),V=L.some(e=>{let{key:t}=e;return t===I}),[q,H]=(0,o.useState)(null!=A?A:w?"motorcycle":"car"),Q=w&&!C?"motorcycle":q,U=S?S.damascusConfig:{},Y=null!==(h=null==U?void 0:null===(i=U.global)||void 0===i?void 0:null===(t=i.codeTests)||void 0===t?void 0:t.vehicleMakeColumns)&&void 0!==h?h:2,W=null==U?void 0:null===(n=U.uiConfiguration.form)||void 0===n?void 0:n.dynamicVehicleMakes,z=null==U?void 0:null===(a=U.uiConfiguration.form)||void 0===a?void 0:a.nonAlphabeticVehicleMakes,G=null==S?void 0:null===(s=S.damascusConfig)||void 0===s?void 0:s.global.is3DButton,J=(0,o.useMemo)(()=>Object.values(P).map(e=>{var t,i,n;return{checked:e.label.toUpperCase()===I,label:(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center text-center",children:[(0,l.jsx)(y(),{src:null!==(t=null==e?void 0:e.image)&&void 0!==t?t:"",alt:null!==(i=null==e?void 0:e.label)&&void 0!==i?i:"",width:120,height:60,priority:!0}),(0,l.jsx)("span",{children:null==e?void 0:e.label})]}),value:null!==(n=null==e?void 0:e.label)&&void 0!==n?n:""}}),[P]),$=(0,o.useMemo)(async()=>{if(C)return await k(I,{year:T,...Q&&{type:"motorcycle"}})},[T]),K=(0,o.useMemo)(async()=>{if(C)return await k(I,{year:T,...Q&&{type:"car"}})},[T]),X=(0,o.useMemo)(async()=>{if(!C)return await k(I,{year:T,...w&&{type:"motorcycle"}})},[T]),ee=(0,o.useMemo)(()=>C?w?"motorcycle"===q?$:K:"motorcycle"===Q?$:K:X,[Q,X,K,$]),et=()=>{switch(S.answers.state){case"CA":return N.aq;case"TX":return N.qg;case"FL":return N.Ij;case"OH":return N._K;case"GA":return N.Pj;default:return N.Er}},ei=(e,t)=>z?Object.entries(t).filter(t=>{let[i]=t;return e.find(e=>e.label===i)}).map(e=>{let[t,i]=e;return i}):e.map(e=>t[e.label]).filter(Boolean),el=async()=>{let e=await ee||[],t=W?et():N.Er,i="motorcycle"===Q?N.YU:t,l=Object.keys(i),n=ei(e,i).slice(0,12),o=e.filter(e=>!l.includes(e.label)).map(e=>({key:e.value,value:e.value}));_(n),R(o),F(!0)};(0,o.useEffect)(()=>{el()},[T,E,Q]);let en=()=>{(0,d.q)(u.x.LAST_FORM_COMPLETED_STEP,j,void 0,!1),(C||w)&&M("".concat(g,"VehicleType"),q),f()},eo=e=>{var t;let i="object"==typeof e&&"target"in e?null===(t=e.target)||void 0===t?void 0:t.value:e;D(i.toUpperCase()),M(j,i.toUpperCase()),x&&(0,d.q)(j,i.toUpperCase(),void 0,!1),en()};return B?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("h1",{className:"my-6 text-2xl font-question text-primary-text md:text-center",children:null!=p?p:"What is your vehicle make?"}),!!C&&(0,l.jsx)(ez,{vehicleType:q,setVehicleType:H,isMotorcycleDefaulted:C&&w}),B&&P.length?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(eY,{choices:J,cols:{desktop:4,phone:null!=Y?Y:2},onChange:eo,hideInput:!0,isSingleColumn:1===Y}),eG(L,eo,V,I,en,G,null==S?void 0:null===(r=S.damascusConfig)||void 0===r?void 0:r.global.theme,!!(null==S?void 0:null===(m=S.damascusConfig)||void 0===m?void 0:null===(v=m.uiConfiguration)||void 0===v?void 0:null===(c=v.form)||void 0===c?void 0:c.primaryButtonAnimation))]}):(0,l.jsx)("p",{className:"self-center",children:eJ(Q,T)})]}):(0,l.jsx)(Z.A,{isCTA:!1})},eZ=e=>{var t,i,n,a;let{questionText:s,onSubmit:r,selector:c,sendDataExpando:v=!1,session:m}=e,{selectedYear:h,selectedMake:p,selectedVehicleType:f,selectedModel:g,selectedTrim:y}=O(c),x="".concat(c,"VehicleModel"),N=(0,b.B)(e=>e.setAnswer),[C,w]=(0,o.useState)(g),[T,E]=(0,o.useState)([]),[A,j]=(0,o.useState)(y),M=s&&(0,S.rd)(s,p||"vehicle"),I=null==m?void 0:null===(n=m.damascusConfig)||void 0===n?void 0:null===(i=n.uiConfiguration)||void 0===i?void 0:null===(t=i.form)||void 0===t?void 0:t.forceChoiceButtonType,D=(0,o.useMemo)(()=>Object.values(T).map(e=>{var t,i;return{checked:e.label.toUpperCase()===C,label:null!==(t=null==e?void 0:e.label)&&void 0!==t?t:"",value:null!==(i=null==e?void 0:e.label)&&void 0!==i?i:""}}),[T]),P=async()=>{E(await k(C,{year:h,type:f,make:p}))},_=async e=>{var t,i,l,n;let o=await k(A,{year:h,make:p,model:e});j(null!==(l=null===(t=o[0])||void 0===t?void 0:t.value)&&void 0!==l?l:""),N("".concat(c,"VehicleTrim"),null!==(n=null===(i=o[0])||void 0===i?void 0:i.value)&&void 0!==n?n:"")};(0,o.useEffect)(()=>{P()},[h,p]);let L=async e=>{var t;let i="object"==typeof e&&"target"in e?null===(t=e.target)||void 0===t?void 0:t.value:e;w(i),N(x,i),await _(i),v&&(0,d.q)(x,i,void 0,!1),r&&((0,d.q)(u.x.LAST_FORM_COMPLETED_STEP,x,void 0,!1),r())};return T.length?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("h1",{className:"my-6 text-2xl font-question text-primary-text md:text-center",children:null!=M?M:"What is the model of your ".concat(p,"?")}),(0,l.jsx)(eY,{choices:D,cols:{desktop:2,phone:1},onChange:L,hideInput:null===(a=I&&"radio"!==I)||void 0===a||a})]}):(0,l.jsx)(Z.A,{isCTA:!1})};var eK=i(41055),eX=i(65868),e0=i(72448);let e1=[{key:"Yes",value:!0},{key:"No",value:!1}],e2=[{key:"Some/No High School",value:B.Rw.SOMEORNOHIGHSCHOOL},{key:"High School Diploma",value:B.Rw.HIGHSCHOOLDIPLOMA},{key:"GED",value:B.Rw.GED},{key:"Some College",value:B.Rw.SOMECOLLEGE},{key:"Associate Degree",value:B.Rw.ASSOCIATES},{key:"Bachelors Degree",value:B.Rw.BACHELORS}],e3=[{key:"Masters Degree",value:B.Rw.MASTERS},{key:"Doctorate Degree",value:B.Rw.DOCTORATE},{key:"Other Professional Degree",value:B.Rw.OTHERPROFESSIONALDEGREE},{key:"Other Non-Prof. Degree",value:B.Rw.OTHERNONPROFESSIONALDEGREE},{key:"Trade/Vocational School",value:B.Rw.TRADEVOCATIONALSCHOOL}],e5=[{key:"Male",value:B.A5.MALE},{key:"Female",value:B.A5.FEMALE},{key:"Non-Binary",value:B.A5.NONBINARY}],e4={educationLevels:e2,furtherEducationLevels:e3,genders:e5,occupations:[{key:"Business Owner",value:B.e$.BUSINESSOWNER},{key:"Manager/Supervisor",value:B.e$.MANAGERSUPERVISOR},{key:"Self Employed",value:B.e$.SELFEMPLOYED},{key:"Employed Worker/Professional",value:B.e$.OTHERNONTECHNICAL},{key:"Stay at Home Parent",value:B.e$.HOMEMAKER},{key:"Retired",value:B.e$.RETIRED},{key:"Student",value:B.e$.STUDENT},{key:"Not Currently Working",value:B.e$.UNEMPLOYED}],relationshipsToPrimary:[{key:"Spouse",value:B.iT.SPOUSE},{key:"Parent",value:B.iT.PARENT},{key:"Sibling",value:B.iT.SIBLING},{key:"Child",value:B.iT.CHILD},{key:"Grandparent",value:B.iT.GRANDPARENT},{key:"Grandchild",value:B.iT.GRANDCHILD},{key:"Other",value:B.iT.OTHER}]},e6=[{key:"State Minimum",value:B.hY.ML},{key:"Lower Level",value:B.hY.LL},{key:"Typical Level",value:B.hY.FC},{key:"Highest Level",value:B.hY.EFC}],e9={coverage:e6,milesPerDay:[{key:"Less than 15",value:5e3},{key:"15-30",value:1e4},{key:"30-40",value:15e3},{key:"40-55",value:2e4},{key:"More than 55",value:5e4}],ownership:[{key:"Owned",value:B.Yn.OWNED},{key:"Financed",value:B.Yn.FINANCED},{key:"Leased",value:B.Yn.LEASED}],primaryUse:[{key:"Commute",value:B.uf.COMMUTE},{key:"Pleasure",value:B.uf.PLEASURE},{key:"Business",value:B.uf.BUSINESS},{key:"Farm",value:B.uf.FARM}]},e8=[{key:"2020s",value:x.pd.TWENTY_TWENTYS},{key:"2010s",value:x.pd.TWENTY_TENS},{key:"2000s",value:x.pd.TWO_THOUSANDS},{key:"1990s",value:x.pd.NINETEEN_NINETYS},{key:"1980s",value:x.pd.NINETEEN_EIGHTYS},{key:"1970s",value:x.pd.NINETEEN_SEVENTYS},{key:"1960s",value:x.pd.NINETEEN_SIXTYS},{key:"1950s",value:x.pd.NINETEEN_FIFTYS},{key:"1940s",value:x.pd.NINETEEN_FOURTYS},{key:"1930s",value:x.pd.NINETEEN_THIRTYS},{key:"1920s",value:x.pd.NINETEEN_TWENTYS},{key:"1910s",value:x.pd.NINETEEN_TENS},{key:"1900s",value:x.pd.NINETEEN_HUNDREDS},{key:"Before 1900",value:x.pd.BEFORE_NINETEEN_HUNDREDS}],e7=[{key:"Primary Residence",value:x.xS.PRIMARYRESIDENCE},{key:"Seasonal Residence",value:x.xS.SEASONALRESIDENCE},{key:"Vacation Home",value:x.xS.VACATION},{key:"Tenant Occupied",value:x.xS.TENANTOCCUPIED}],te=(e,t)=>{var i,l;let n=null!==(i=null==e?void 0:e.fill)&&void 0!==i?i:"var(--text-primary)",o=null!==(l=null==e?void 0:e.secondaryFill)&&void 0!==l?l:"var(--accent-alt)";return[{key:"Single Family",value:x.hk.SINGLEFAMILY,image:(0,U.v)([n,o],!1,"",t).singleFamily},{key:"Duplex",value:x.hk.DUPLEX,image:(0,U.v)([n,o],!1,"",t).duplex},{key:"Multi Family",value:x.hk.MULTIFAMILY,image:(0,U.v)([n,o],!1,"",t).multiFamily},{key:"Townhome",value:x.hk.TOWNHOME,image:(0,U.v)([n,o],!1,"",t).townHome},{key:"Mobile / Manufactured",value:x.hk.MOBILEHOME,image:(0,U.v)([n,o],!1,"",t).mobileManufactured},{key:"Condominium",value:x.hk.CONDOMINIUM,image:(0,U.v)([n,o],!1,"",t).condominium}]},tt={decadeBuilt:e8,propertyPrimaryUse:e7,roofType:[{key:"Asphalt Shingle",value:x.q3.ASPHALTSHINGLE,image:"asphalt-shingle.jpg"},{key:"Wood Shingle",value:x.q3.WOODSHINGLE,image:"wood-shingle.jpg"},{key:"Tile Shingle (Spanish Style)",value:x.q3.TILESHINGLE,image:"tile-shingle.jpg"},{key:"Metal Roof",value:x.q3.METALROOF,image:"metal-roof.jpg"},{key:"Other / Not Sure",value:x.q3.OTHER}],squareFootage:[{key:"500 or less",value:x.Jf.UP_TO_500},{key:"501-1000",value:x.Jf.FROM_501_TO_1000},{key:"1001-1500",value:x.Jf.FROM_1001_TO_1500},{key:"1501-2000",value:x.Jf.FROM_1501_TO_2000},{key:"2001-2500",value:x.Jf.FROM_2001_TO_2500},{key:"2501-3000",value:x.Jf.FROM_2501_TO_3000},{key:"3001-3500",value:x.Jf.FROM_3001_TO_3500},{key:"3501-4000",value:x.Jf.FROM_3501_TO_4000},{key:"4001-4500",value:x.Jf.FROM_4001_TO_4500},{key:"4501-5000",value:x.Jf.FROM_4501_TO_5000},{key:"5001 +",value:x.Jf.OVER_5001}]},ti=[{key:"Own",value:B.Yd.OWN},{key:"Rent",value:B.Yd.RENT}],tl=[{key:"Excellent (720+)",value:B._s.EXCELLENT},{key:"Good (680 - 719)",value:B._s.GOOD},{key:"Average (580 - 679)",value:B._s.AVERAGE},{key:"Poor (Below 580)",value:B._s.POOR}],tn=e=>e.toLowerCase().replace(/\b\w/g,e=>e.toUpperCase()),to=(e,t)=>{let i=t.find(t=>t.value===e);return i?i.key:void 0},ta=e=>(0,l.jsx)(D.Pill,{className:"px-4 py-1 text-sm text-primary-text",children:e}),ts=(e,t)=>{var i,n,o,a;let s=null!==(i=to(t["".concat(e,"VehicleOwnership")],e9.ownership))&&void 0!==i?i:"",r=null!==(n=to(t["".concat(e,"VehicleMileage")],e9.milesPerDay))&&void 0!==n?n:"",d=null!==(o=to(t["".concat(e,"VehicleCoverageType")],e9.coverage))&&void 0!==o?o:"",u=null!==(a=to(t["".concat(e,"VehiclePrimaryUse")],e9.primaryUse))&&void 0!==a?a:"";return(0,l.jsxs)("div",{className:"mx-5 mb-5 flex flex-wrap gap-2",children:[ta(s),ta("".concat(r," miles per day")),ta("".concat(d," Coverage")),ta(u)]})},tr=["Make","Model","Year","Ownership","Mileage","CoverageType","PrimaryUse","Trim"],td=(e,t,i,l)=>{tr.forEach(n=>{let o="".concat(e).concat(n),a="".concat(t).concat(n),s=i[o];l(o,i[a]),l(a,s)})},tu=()=>{var e,t,i;let{answers:a,session:s,setAnswer:r,setAllAnswers:c}=(0,b.B)(e=>({answers:e.session.answers,session:e.session,setAnswer:e.setAnswer,setAllAnswers:e.setAllAnswers})),v=(0,n.useRouter)(),m=null!==(i=a.totalNumberOfVehicles)&&void 0!==i?i:1,h=v.asPath;(0,o.useEffect)(()=>{(0,d.q)(u.x.VEHICLE_SUMMARY_PAGE,"seen")},[]),(0,o.useEffect)(()=>{let e=1;h.includes("autos-2-summary")?e=2:h.includes("autos-3-summary")&&(e=3),c({...a,isEditingVehicleNumber:0,totalNumberOfVehicles:e,addSecondVehicle:!0,addThirdVehicle:!0})},[h]);let f="".concat(a.firstVehicleYear," ").concat(a.firstVehicleMake," ").concat(a.firstVehicleModel),g="".concat(a.secondVehicleYear," ").concat(a.secondVehicleMake," ").concat(a.secondVehicleModel),y="".concat(a.thirdVehicleYear," ").concat(a.thirdVehicleMake," ").concat(a.thirdVehicleModel),x=1===m?"2":"3",S="add".concat(1===m?"Second":"Third","Vehicle"),N=()=>{(0,d.q)(u.x.VEHICLE_SUMMARY_ADD_VEHICLE,"clicked");let e="autos-".concat(x,"-year");c({...a,[S]:!0,isEditingVehicleNumber:x}),v.push("/form/".concat(e),"/form/".concat(e),{shallow:!0})},C=()=>{var e,t,i,l,n;(0,d.q)(u.x.VEHICLE_SUMMARY_CONTINUE,"clicked"),c({...a,addSecondVehicle:m>1,addThirdVehicle:m>2});let o=null!==(n=null==s?void 0:null===(i=s.damascusConfig)||void 0===i?void 0:null===(t=i.uiConfiguration)||void 0===t?void 0:null===(e=t.form)||void 0===e?void 0:e.stages)&&void 0!==n?n:[],r=o.findIndex(e=>e.name.includes("autos-3-summary")),h=null===(l=o[r+1])||void 0===l?void 0:l.name;v.push("/form/".concat(h),"/form/".concat(h),{shallow:!0})},w=e=>{(0,d.q)(u.x.VEHICLE_SUMMARY_EDIT,"clicked");let t="autos-".concat(e,"-year");r("isEditingVehicleNumber",e),v.push("/form/".concat(t),"/form/".concat(t),{shallow:!0})},T=e=>{if((0,d.q)(u.x.VEHICLE_SUMMARY_DELETE,"clicked"),"2"===e&&3===m)td("secondVehicle","thirdVehicle",a,r);else if("1"===e&&2===m)td("firstVehicle","secondVehicle",a,r);else if("1"===e&&3===m){let e=tr.reduce((e,t)=>(e[t]=a["firstVehicle".concat(t)],e),{});td("firstVehicle","secondVehicle",a,r),td("secondVehicle","thirdVehicle",a,r),tr.forEach(t=>{r("thirdVehicle".concat(t),e[t])})}r("totalNumberOfVehicles",m-1),v.push("/form/autos-".concat(m-1,"-summary"),"/form/autos-".concat(m-1,"-summary"),{shallow:!0})},E=e=>(0,l.jsx)("div",{className:"inset-x-0 bottom-0 z-10 w-full rounded-b-lg border-t border-t-border-card bg-default-bg",children:(0,l.jsxs)("div",{className:"my-3 flex items-center justify-between px-0",children:[1!==m&&(0,l.jsx)(D.Button,{className:"w-1/5 pl-6 text-left text-accent hover:cursor-pointer hover:underline [&_div]:justify-start",onClick:()=>T(e),renderAs:"link",iconPosition:"left",icon:(0,l.jsx)(eK.A,{className:"min-h-5 min-w-5 text-accent",width:20,height:20}),label:"Remove"}),(0,l.jsx)(D.Button,{className:"w-1/5 pr-6 text-right text-accent hover:cursor-pointer hover:underline [&_div]:justify-end ".concat(1===m?"ml-auto":""),onClick:()=>w(e),renderAs:"link",iconPosition:"left",icon:(0,l.jsx)(eX.A,{className:"size-5"}),label:"Edit"})]})});return(0,l.jsxs)("div",{children:[(0,l.jsxs)(D.Accordion,{title:tn(f),openByDefault:h.includes("autos-1-summary"),children:[ts("first",a),E("1")]}),m>=2&&(0,l.jsxs)(D.Accordion,{title:tn(g),openByDefault:h.includes("autos-2-summary"),children:[ts("second",a),E("2")]}),3===m&&(0,l.jsxs)(D.Accordion,{title:tn(y),openByDefault:!0,children:[ts("third",a),E("3")]}),m<3&&(0,l.jsx)(D.Button,{...(0,p.D$)(null===(e=s.damascusConfig)||void 0===e?void 0:e.global.theme),variant:"secondary",iconPosition:"right",icon:(0,l.jsx)(e0.A,{className:"size-6"}),label:"Add Another Vehicle",onClick:()=>N()}),(0,l.jsx)(D.Button,{...(0,p.D$)(null===(t=s.damascusConfig)||void 0===t?void 0:t.global.theme),label:"Continue",buttonClassName:3===m?"m-0 mt-6":"m-0",onClick:()=>C()})]})};var tc=i(44681);let tv=e=>{var t,i,n,a,s,r,c,v,m,h,f,g;let{questionText:y,onSubmit:x,selector:S,sendDataExpando:N=!1,session:C,displayShowMoreButton:w=!1}=e,{selectedYear:T}=O(S),E="".concat(S,"VehicleYear"),A=(0,b.B)(e=>e.setAnswer),k=null!==(f=null===(t=C.answers)||void 0===t?void 0:t.firstVehicleYear)&&void 0!==f?f:0,M="firstVehicleYear"===E?k:T,[I,P]=(0,o.useState)(String(M)),[_,L]=(0,o.useState)([]),[R,B]=(0,o.useState)([]),[F,V]=(0,o.useState)([]),q=R.some(e=>{let{key:t}=e;return t===I}),H=C?C.damascusConfig:{},Q=null==H?void 0:null===(n=H.global)||void 0===n?void 0:null===(i=n.codeTests)||void 0===i?void 0:i.vehicleYearsColumns,U=null==C?void 0:null===(r=C.damascusConfig)||void 0===r?void 0:null===(s=r.uiConfiguration)||void 0===s?void 0:null===(a=s.form)||void 0===a?void 0:a.forceChoiceButtonType,Y=async()=>{let e=await j(I);V(e);let t=e.slice(0,28);if(w){if(M&&!t.some(e=>e.value===I)){L(e);return}}else B(e.slice(28).map(e=>({key:e.value,value:e.value})));L(t)};(0,o.useEffect)(()=>{Y()},[]);let z=()=>{(0,d.q)(u.x.LAST_FORM_COMPLETED_STEP,E,void 0,!1),x()},G=e=>{var t;let i="object"==typeof e&&"target"in e?null===(t=e.target)||void 0===t?void 0:t.value:e;P(i.toUpperCase()),A(E,Number(i)),N&&(0,d.q)(E,Number(i),void 0,!1),z()};return _.length?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("h1",{className:"my-6 text-2xl font-question text-primary-text md:text-center",children:null!=y?y:"What is your vehicle year?"}),(0,l.jsx)(eY,{choices:_,cols:{desktop:4,phone:null!=Q?Q:3},onChange:G,hideInput:null===(g=U&&"radio"!==U)||void 0===g||g}),(()=>{var e;let t=(0,l.jsx)(D.Select,{id:"showMoreVehicleYears",...(0,p.nT)(null===(e=C.damascusConfig)||void 0===e?void 0:e.global.theme),fieldClassName:"w-full",options:R,onChange:G,placeholder:q?I:"Select other year"}),i=F.length!==_.length&&(0,l.jsx)(D.Button,{"aria-label":"show more years",buttonClassName:"border-0 shadow-none hover:shadow-none hover:bg-transparent p-0 h-auto w-auto text-accent focus:ring-0 pt-6",icon:(0,l.jsx)(tc.A,{className:"size-6"}),label:"Show More Years",onClick:()=>L(F),transparent:!0});return w?i:t})(),q&&(0,l.jsx)(D.Button,{...(0,p.D$)(null==H?void 0:H.global.theme,!0,!!(null==C?void 0:null===(m=C.damascusConfig)||void 0===m?void 0:null===(v=m.uiConfiguration)||void 0===v?void 0:null===(c=v.form)||void 0===c?void 0:c.primaryButtonAnimation)),buttonClassName:(null===(h=C.damascusConfig)||void 0===h?void 0:h.global.is3DButton)?W.rG:"",label:"Continue",onClick:z})]}):(0,l.jsx)(Z.A,{isCTA:!1})};var tm=i(14367);let th=e=>{var t,i,n,a,s,r;let{questionText:d,onSubmit:u,submitButtonText:c,session:v,validationIconPosition:m}=e,{answers:h,setAnswer:f,setAllAnswers:g}=(0,b.B)(e=>({answers:e.session.answers,setAnswer:e.setAnswer,setAllAnswers:e.setAllAnswers})),x=Object.entries(h).length>0?h:null==v?void 0:v.answers,S=null===(t=(0,_.e0)(v))||void 0===t?void 0:t.zip,N=null!==(r=null==x?void 0:x.landingSubmitted)&&void 0!==r&&r,{zipCode:C,setZipCode:w,isValidZip:T,showErrorMessage:E,setIsValidZip:A,setShowErrorMessage:j,zippyGeo:k,checkZipIsValid:O}=(0,eM.s)(S),M=async()=>{await g({...h,zip:null==k?void 0:k.zipCode,city:null==k?void 0:k.city,state:null==k?void 0:k.state,county:null==k?void 0:k.county}),await (0,tm.q)(v),u()},L=()=>{T?M():j(!0)};return(0,o.useEffect)(()=>{let e=document.querySelector("#zipCode");(0,p.PF)(v)&&(null==e||e.focus()),C&&O(C)},[]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(D.Input,{id:"zipCode",inputMode:"numeric",fieldClassName:I.JA.cn(E&&!T&&"mb-3"),label:d||(N?"What is your ZIP code?":"Enter ZIP Code To Begin"),labelClassName:"font-heading font-question my-6 md:justify-center [&_img]:self-center text-[1.5rem]",maxLength:5,onChange:e=>{A(!1);let t="object"==typeof e?e.target.value:e;f("zip",t),w(t),5===t.length&&O(t)},onKeyDown:(0,_.Eu)(L),pattern:"[0-9]*",placeholder:"Zip Code e.g. 11102",type:"tel",value:C,validationOnLabel:E,validationProps:{active:E,content:(0,l.jsxs)("span",{className:"flex items-center gap-2 text-danger-text",children:["message"===m&&(0,l.jsx)(y(),{src:(0,P.xw)("red-exclamation-circle.svg"),alt:"error",width:24,height:27}),"Please enter a valid ZIP code"]}),position:"bottom",validator:()=>T}}),(0,l.jsx)(D.Button,{...(0,p.D$)(null===(i=v.damascusConfig)||void 0===i?void 0:i.global.theme,!0,!!(null==v?void 0:null===(s=v.damascusConfig)||void 0===s?void 0:null===(a=s.uiConfiguration)||void 0===a?void 0:null===(n=a.form)||void 0===n?void 0:n.primaryButtonAnimation)),label:null!=c?c:"Check Rates",onClick:L})]})};var tp=i(99727);let tf=e=>{var t,i,n,a;let{defaultQuestionText:s,stage:r,dataOptions:c,interpolatedQuestionText:v,session:m,sendDataExpando:h,columnNumber:p=1,columnNumberMobile:f=1,onSubmit:g,submitButtonText:y}=e,{setAnswer:x}=(0,b.B)(e=>({setAnswer:e.setAnswer})),{answers:S}=m,N=null!==(a=S[r])&&void 0!==a?a:"",[C,w]=(0,o.useState)(N),T=(0,o.useCallback)(e=>{w("string"==typeof e?[e]:e)},[]),E=(0,o.useMemo)(()=>(null==c?void 0:c.map(e=>({label:e.component||e.key,checked:null==C?void 0:C.includes(null==e?void 0:e.value),description:null==e?void 0:e.description,value:e.key})))||[],[c]);return(0,l.jsxs)("div",{className:"flex flex-auto flex-col justify-start md:text-center",children:[(0,l.jsx)("h1",{className:"text-2xl font-question text-primary-text",children:v||s}),(0,l.jsx)(D.ChoiceCollection,{choices:E,name:r,mode:"checkbox",cols:{desktop:p,phone:f},onChange:T}),(0,l.jsx)("div",{className:"mb-4 mt-14",children:(0,l.jsx)(D.Button,{variant:"primary",disabled:!C||0===C.length,onClick:()=>{x(r,C),h&&(0,d.q)(r,C.join(","),void 0,!1),(0,d.q)(u.x.LAST_FORM_COMPLETED_STEP,r,void 0,!1),g()},clickAnimation:!!(null==m?void 0:null===(n=m.damascusConfig)||void 0===n?void 0:null===(i=n.uiConfiguration)||void 0===i?void 0:null===(t=i.form)||void 0===t?void 0:t.primaryButtonAnimation),children:(0,l.jsxs)("div",{className:"flex items-center justify-center",children:[(0,l.jsx)("label",{className:"mr-2",children:y||"Next"}),(0,l.jsx)(tp.A,{height:24,width:24})]})})})]})};var tg=i(54244),ty=i(6284),tx=i(9668);let tb=e=>{let{title:t,message:i,variant:n}=e;return(0,l.jsx)(D.Banner,{bannerClassName:"mb-6 md:justify-center",messageClassName:"font-medium",icon:(0,l.jsx)("span",{className:"text-1.5xl",children:"\uD83D\uDCB8"}),message:i,title:t,variant:null!=n?n:"success"})},tS=e=>"check circle"===e?()=>(0,l.jsx)(ty.A,{className:"size-7 text-accent"}):()=>(0,l.jsx)(tx.A,{className:"size-7 text-secondary-button-text"}),tN=(0,a.default)(e=>{var t,i,n,a,s,r,c,v,m,h;let{columnNumber:f=1,columnNumberMobile:g=1,clarifyingMessage:y,choiceChangedCallback:x,className:S,dataOptions:N=[],defaultQuestionText:C,hideInput:w=!1,helperText:T,notification:E,onSubmit:A,interpolatedQuestionText:j,showSubmitButton:k=!1,selectOptions:O,sendDataExpando:M=!1,session:P,stage:_,hideOtherOptionsList:L,initiateMarketingServicesEligibilityCheck:R}=e,{setAnswer:B}=(0,b.B)(e=>({setAnswer:e.setAnswer})),{answers:F}=P,V=null!==(m=F[_])&&void 0!==m?m:"",[q,H]=(0,o.useState)(V),[Q,U]=(0,o.useState)(),[z,G]=(0,o.useState)(!1),J=null==P?void 0:null===(i=P.damascusConfig)||void 0===i?void 0:null===(t=i.uiConfiguration)||void 0===t?void 0:t.form,$=null!==(h=null==J?void 0:J.choiceSelectionAnimation)&&void 0!==h&&h,K=(0,o.useMemo)(()=>null==O?void 0:O.dataOptions.map(e=>({key:e.key,value:e.key})),[O]),X=N.map(e=>({label:e.component||e.key,checked:q===e.value,description:null==e?void 0:e.description,value:e.key})),ee=()=>{R?G(!0):(0,d.q)(u.x.LAST_FORM_COMPLETED_STEP,_,void 0,!1),A()},et=e=>{var t,i;if(!e)return;let l=(null==N?void 0:N.length)>0?null===(t=N.concat(null!==(i=null==O?void 0:O.dataOptions)&&void 0!==i?i:[]).find(t=>{let{key:i}=t;return i===e}))||void 0===t?void 0:t.value:e;H(null!=l?l:""),B(_,null!=l?l:""),null==x||x(null!=l?l:""),M&&(0,d.q)(_,null!=l?l:"",void 0,!1),k||($?setTimeout(()=>ee(),300):ee())};return(0,o.useEffect)(()=>{if(O){var e;U(null==O?void 0:null===(e=O.dataOptions.find(e=>e.value===q))||void 0===e?void 0:e.key)}},[O]),(0,l.jsxs)("div",{className:S,children:[(0,l.jsxs)("div",{className:"my-6 md:text-center",children:[(0,l.jsx)("h1",{className:"text-2xl font-question text-primary-text",children:j||C}),T&&(0,l.jsx)("p",{className:"text-center font-medium text-secondary-text",children:T})]}),y&&(0,l.jsx)(tb,{...y}),(null==E?void 0:E.position)==="above"&&(0,l.jsx)(Y,{...E}),(0,l.jsx)(eY,{choices:X,hideInput:w,cols:{desktop:f,phone:g},onChange:et,choiceSelectionAnimation:$,...(null==J?void 0:J.choiceCollectionIcon)&&{iconDetails:{src:tS(J.choiceCollectionIcon)(),alt:"Selected",showOnHover:!1}}}),!L&&(0,l.jsxs)(l.Fragment,{children:[K&&(0,l.jsx)(D.Select,{id:"".concat(_,"-select"),...(0,p.nT)(null===(n=P.damascusConfig)||void 0===n?void 0:n.global.theme),fieldClassName:"w-full",options:K,onChange:et,placeholder:null!=Q?Q:null==O?void 0:O.dropdownText}),(Q||k)&&(0,l.jsx)(D.Button,{...(0,p.D$)(null===(a=P.damascusConfig)||void 0===a?void 0:a.global.theme,!z,!!(null==P?void 0:null===(c=P.damascusConfig)||void 0===c?void 0:null===(r=c.uiConfiguration)||void 0===r?void 0:null===(s=r.form)||void 0===s?void 0:s.primaryButtonAnimation)),buttonClassName:I.JA.cn(k?"absolute bottom-32 sm:bottom-16 w-[calc(100%-3rem)] md:relative md:bottom-auto md:my-4 md:w-full":"my-4",(null===(v=P.damascusConfig)||void 0===v?void 0:v.global.is3DButton)&&W.rG),disabled:null===q||""===q,label:"Continue",onClick:ee,children:z?(0,l.jsx)(Z.A,{}):"Continue"})]}),(null==E?void 0:E.position)==="below"&&(0,l.jsx)(Y,{...E})]})}).withConfig({componentId:"sc-e1acc86a-0"})(["",""],e=>{let{stage:t}=e;return"roofType"===t&&(0,a.css)(["label:last-of-type{grid-column:span 2;height:auto;max-width:100%;padding:var(--choice-padding);width:100% !important;img{display:none;}}"])}),tC=(e,t)=>i=>(0,l.jsx)(e,{...t,...i}),tw=(e,t)=>{let i=i=>(0,l.jsx)(e,{selector:t,...i});return i.displayName="withSelector(".concat(e.displayName||e.name||"Component",")"),i},tT=e=>t=>{var i,n;let o;let{defaultQuestionText:a,vehicleSelector:s,vertical:r="auto"}=e,{questionText:d}=t,u=M({questionText:d,vehicleSelector:s,vertical:r,defaultQuestionText:a}),c=(e,t)=>(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center text-center",children:[e&&"string"!=typeof e?e:(0,l.jsx)(y(),{src:(0,P.xw)(null!=e?e:""),alt:null!=t?t:"",width:120,height:60,priority:!0}),(0,l.jsx)("span",{children:t})]}),v=e=>{let[t,i]=e;return{key:i.value,description:i.description,value:"string"==typeof t?null==t?void 0:t.replace(/^_+/,""):t,component:i.icon?c(null==i?void 0:i.icon,i.value):void 0}};o=t.optionsOrder?t.optionsOrder.map(e=>{var i;return[e,null===(i=t.options)||void 0===i?void 0:i[e]]}).filter(e=>void 0!==e[1]).map(v):null===(i=e.dataOptions)||void 0===i?void 0:i.map(e=>v([e.value,{value:e.key,description:e.description,icon:e.image}])),e.selectOptions&&(e.selectOptions.dataOptions=(null==t?void 0:t.otherOptions)?Object.entries(t.otherOptions).filter(e=>{let[t,i]=e;return!!i}).map(v):null===(n=e.selectOptions)||void 0===n?void 0:n.dataOptions);let{columnNumber:m=e.columnNumber,columnNumberMobile:h=e.columnNumberMobile}=t;return(0,l.jsx)(tN,{...t,...e,columnNumber:m,columnNumberMobile:h,dataOptions:o,interpolatedQuestionText:u})},tE=e=>t=>{let{defaultQuestionText:i,vehicleSelector:n,vertical:o="auto"}=e,{questionText:a}=t,s=M({questionText:a,vehicleSelector:n,vertical:o,defaultQuestionText:i});return(0,l.jsx)(tf,{...t,...e,interpolatedQuestionText:s})},tA=(e,t)=>tC(e,{version:t}),tj=e=>{var t;return tT({...e,dataOptions:null!==(t=null==e?void 0:e.dataOptions)&&void 0!==t?t:e1,columnNumber:2,columnNumberMobile:2,isYesNo:!0})},{answers:tk}=b.B.getState().session,{setAnswer:tO}=b.B.getState(),tM={dataOptions:e4.educationLevels,columnNumber:2,selectOptions:{dataOptions:e4.furtherEducationLevels,dropdownText:"Select Education Level",subText:"Browse other education levels:"}},tI=(e,t)=>null==t?void 0:t.find(t=>{let{name:i}=t;return i===e}),tD=(e,t)=>{var i,l,n,o,a,s,r,d,u,c,v,m,h,p,f,g,y,x,b,S;let C={};e&&(C=null!==(b=null==e?void 0:e.damascusConfig)&&void 0!==b?b:{});let w=null==C?void 0:null===(i=C.uiConfiguration.form)||void 0===i?void 0:i.stages,T=null!==(S=null==C?void 0:null===(l=C.global)||void 0===l?void 0:l.codeTests)&&void 0!==S?S:void 0,E=(null==C?void 0:C.global.marketingServicesPartner)==="plymouth-rock",A=tI("street-address",w),j=null==A?void 0:null===(o=A.question)||void 0===o?void 0:null===(n=o.address)||void 0===n?void 0:n.displayZipInput,k=tI("auto-intent",w),O=(0,N.Uj)(!!(null==e?void 0:null===(a=e.answers)||void 0===a?void 0:a.hasAutoInsurance),!!(null==k?void 0:null===(s=k.question)||void 0===s?void 0:s.updatedAutoIntentQuestions)),M=null==C?void 0:null===(d=C.global)||void 0===d?void 0:null===(r=d.codeTests)||void 0===r?void 0:r.showDescendingYearsInsured,I=null==C?void 0:null===(c=C.global)||void 0===c?void 0:null===(u=c.codeTests)||void 0===u?void 0:u.columnValueMobile,D=null==C?void 0:null===(m=C.global)||void 0===m?void 0:null===(v=m.codeTests)||void 0===v?void 0:v.showPropertyTypeAsList,P=e=>{var t,i,l;return null!==(l=(null==C?void 0:null===(t=C.uiConfiguration.form)||void 0===t?void 0:t.forceChoiceButtonType)&&(null==C?void 0:null===(i=C.uiConfiguration.form)||void 0===i?void 0:i.forceChoiceButtonType)!=="radio")&&void 0!==l?l:e};return{zip:th,names:tA(eu,"modern"),email:tA(ee,"modern"),emailTypeahead:tA(ee,"typeahead"),phone:tA(eN,"modern"),phoneSimpleSingleSeller:tA(eN,"simpleSingleSeller"),streetAddress:j?eQ:eO,vehicleSummary:tu,vehicleCount:tT({stage:"vehicleCount",defaultQuestionText:"How many vehicles do you want to insure",dataOptions:(0,N.qZ)(1,3,!1),columnNumber:3,hideInput:P(!1)}),addSecondVehicle:tj({stage:"addSecondVehicle",defaultQuestionText:"Are you interested in insuring another vehicle?",hideInput:P(!1)}),addThirdVehicle:tj({stage:"addThirdVehicle",defaultQuestionText:"Are you interested in insuring another vehicle?",hideInput:P(!1)}),firstVehicleYear:tC(tw(tv,"first"),{displayShowMoreButton:null==T?void 0:T.displayShowMoreButton}),secondVehicleYear:tC(tw(tv,"second"),{displayShowMoreButton:null==T?void 0:T.displayShowMoreButton}),thirdVehicleYear:tC(tw(tv,"third"),{displayShowMoreButton:null==T?void 0:T.displayShowMoreButton}),firstVehicleMake:tA(tw(e$,"first"),"modern"),secondVehicleMake:tA(tw(e$,"second"),"modern"),thirdVehicleMake:tA(tw(e$,"third"),"modern"),firstVehicleModel:tw(eZ,"first"),secondVehicleModel:tw(eZ,"second"),thirdVehicleModel:tw(eZ,"third"),firstVehiclePrimaryUse:tT({stage:"firstVehiclePrimaryUse",defaultQuestionText:"Thanks! What is the primary use for your ".concat(tk.firstVehicleMake," ").concat(tk.firstVehicleModel,"?"),dataOptions:e9.primaryUse,vehicleSelector:"first",hideInput:P(!1)}),secondVehiclePrimaryUse:tT({stage:"secondVehiclePrimaryUse",defaultQuestionText:"Thanks! What is the primary use for your ".concat(tk.firstVehicleMake," ").concat(tk.firstVehicleModel,"?"),dataOptions:e9.primaryUse,vehicleSelector:"second",hideInput:P(!1)}),thirdVehiclePrimaryUse:tT({stage:"thirdVehiclePrimaryUse",defaultQuestionText:"Thanks! What is the primary use for your ".concat(tk.firstVehicleMake," ").concat(tk.firstVehicleModel,"?"),dataOptions:e9.primaryUse,vehicleSelector:"third",hideInput:P(!1)}),firstVehicleOwnership:tT({stage:"firstVehicleOwnership",defaultQuestionText:"Do you own or lease your vehicle?",dataOptions:e9.ownership,vehicleSelector:"first",hideInput:P(!1)}),secondVehicleOwnership:tT({stage:"secondVehicleOwnership",defaultQuestionText:"Do you own or lease your second vehicle?",dataOptions:e9.ownership,vehicleSelector:"second",hideInput:P(!1)}),thirdVehicleOwnership:tT({stage:"thirdVehicleOwnership",defaultQuestionText:"Do you own or lease your third vehicle?",dataOptions:e9.ownership,vehicleSelector:"third",hideInput:P(!1)}),firstVehicleMileage:tT({stage:"firstVehicleMileage",defaultQuestionText:"What is the annual mileage on your vehicle?",dataOptions:N.xk,vehicleSelector:"first",hideInput:P(!1)}),firstVehicleMileagePerDay:tT({stage:"firstVehicleMileage",defaultQuestionText:"How many miles per day do you drive?",dataOptions:e9.milesPerDay,vehicleSelector:"first",hideInput:P(!1)}),secondVehicleMileage:tT({stage:"secondVehicleMileage",defaultQuestionText:"What is the annual mileage on your second vehicle?",dataOptions:N.xk,vehicleSelector:"second",hideInput:P(!1)}),secondVehicleMileagePerDay:tT({stage:"secondVehicleMileage",defaultQuestionText:"How many miles per day do you drive with your second vehicle?",dataOptions:e9.milesPerDay,vehicleSelector:"second",hideInput:P(!1)}),thirdVehicleMileage:tT({stage:"thirdVehicleMileage",defaultQuestionText:"What is the annual mileage on your third vehicle?",dataOptions:N.xk,vehicleSelector:"third",hideInput:P(!1)}),thirdVehicleMileagePerDay:tT({stage:"thirdVehicleMileage",defaultQuestionText:"How many miles per day do you drive with your third vehicle?",dataOptions:e9.milesPerDay,vehicleSelector:"third",hideInput:P(!1)}),firstVehicleCoverageType:tT({stage:"firstVehicleCoverageType",choiceChangedCallback:t=>H(e,tO,t.toString()),defaultQuestionText:"How much coverage do you need?",dataOptions:e9.coverage,vehicleSelector:"first",hideInput:P(!1)}),secondVehicleCoverageType:tT({stage:"secondVehicleCoverageType",defaultQuestionText:"How much coverage do you need?",dataOptions:e9.coverage,vehicleSelector:"second",hideInput:P(!1)}),thirdVehicleCoverageType:tT({stage:"thirdVehicleCoverageType",defaultQuestionText:"How much coverage do you need?",dataOptions:e9.coverage,vehicleSelector:"third",hideInput:P(!1)}),age:R,firstDateOfBirth:tw($,"first"),secondDateOfBirth:tw($,"second"),thirdDateOfBirth:tw($,"third"),driverCount:tT({stage:"driverCount",defaultQuestionText:"How many drivers will be on your policy?",dataOptions:(0,N.qZ)(1,3,!1),columnNumber:3,hideInput:P(!1)}),firstDriverGender:tT({dataOptions:e4.genders,stage:"firstDriverGender",defaultQuestionText:"What is your gender?",hideInput:P(!1)}),secondDriverGender:tT({dataOptions:e4.genders,stage:"secondDriverGender",defaultQuestionText:"What is your second driver's gender?",hideInput:P(!1)}),thirdDriverGender:tT({dataOptions:e4.genders,stage:"thirdDriverGender",defaultQuestionText:"What is your third driver's gender?",hideInput:P(!1)}),firstDriverMarriage:tj({stage:"firstDriverMarriage",defaultQuestionText:"Are you married?",dataOptions:N.v9,hideInput:P(!1)}),secondDriverMarriage:tj({stage:"secondDriverMarriage",defaultQuestionText:"Is your second driver married?",dataOptions:N.v9,hideInput:P(!1)}),thirdDriverMarriage:tj({stage:"thirdDriverMarriage",defaultQuestionText:"Is your third driver married?",dataOptions:N.v9,hideInput:P(!1)}),secondDriverRelationToPrimary:tT({stage:"secondDriverRelationToPrimary",defaultQuestionText:"What is your second driver's relation to you?",dataOptions:e4.relationshipsToPrimary,hideInput:P(!1)}),thirdDriverRelationToPrimary:tT({stage:"thirdDriverRelationToPrimary",defaultQuestionText:"What is your third driver's relation to you?",dataOptions:e4.relationshipsToPrimary,hideInput:P(!1)}),firstDriverEducation:tT({...tM,stage:"firstDriverEducation",defaultQuestionText:"What is the highest level of education you completed?",hideInput:P(!1)}),secondDriverEducation:tT({...tM,stage:"secondDriverEducation",defaultQuestionText:"What is your second driver's highest level of education completed?",hideInput:P(!1)}),thirdDriverEducation:tT({...tM,stage:"thirdDriverEducation",defaultQuestionText:"What is your third driver's highest level of education completed?",hideInput:P(!1)}),firstDriverSimpleOccupation:tT({dataOptions:e4.occupations,columnNumber:1,stage:"firstDriverOccupation",defaultQuestionText:"What is your occupation?",hideInput:P(!1)}),secondDriverSimpleOccupation:tT({dataOptions:e4.occupations,columnNumber:1,stage:"secondDriverOccupation",defaultQuestionText:"What is your second driver's occupation?",hideInput:P(!1)}),thirdDriverSimpleOccupation:tT({dataOptions:e4.occupations,columnNumber:1,stage:"thirdDriverOccupation",defaultQuestionText:"What is your third driver's occupation?",hideInput:P(!1)}),firstDriverTickets:tT({stage:"firstDriverTickets",defaultQuestionText:"How many tickets have you had in the past three (3) years?",columnNumber:4,columnNumberMobile:null!=I?I:2,dataOptions:(0,N.qZ)(0,3),hideInput:P(!1)}),secondDriverTickets:tT({stage:"secondDriverTickets",defaultQuestionText:"How many tickets has your second driver had in the past three (3) years?",columnNumber:4,columnNumberMobile:null!=I?I:2,dataOptions:(0,N.qZ)(0,3),hideInput:P(!1)}),thirdDriverTickets:tT({stage:"thirdDriverTickets",defaultQuestionText:"How many tickets has your third driver had in the past three (3) years?",columnNumber:4,columnNumberMobile:null!=I?I:2,dataOptions:(0,N.qZ)(0,3),hideInput:P(!1)}),firstDriverSuspendedRevoked:tj({stage:"firstDriverSuspendedRevoked",defaultQuestionText:"Have you had your license suspended or revoked in the past three (3) years?",hideInput:P(!1)}),secondDriverSuspendedRevoked:tj({stage:"secondDriverSuspendedRevoked",defaultQuestionText:"Has your second driver had their license suspended or revoked in the past three (3) years?",hideInput:P(!1)}),thirdDriverSuspendedRevoked:tj({stage:"thirdDriverSuspendedRevoked",defaultQuestionText:"Has your third driver had their license suspended or revoked in the past three (3) years?",hideInput:P(!1)}),firstDriverAtFault:tT({stage:"firstDriverAtFault",defaultQuestionText:"How many at-fault accidents have you had in the past three (3) years?",columnNumber:4,columnNumberMobile:null!=I?I:2,dataOptions:(0,N.qZ)(0,3),hideInput:P(!1)}),secondDriverAtFault:tT({stage:"secondDriverAtFault",defaultQuestionText:"How many at-fault accidents has your second driver had in the past three (3) years?",columnNumber:4,columnNumberMobile:null!=I?I:2,dataOptions:(0,N.qZ)(0,3),hideInput:P(!1)}),thirdDriverAtFault:tT({stage:"thirdDriverAtFault",defaultQuestionText:"How many at-fault accidents has your third driver had in the past three (3) years?",columnNumber:4,columnNumberMobile:null!=I?I:2,dataOptions:(0,N.qZ)(0,3),hideInput:P(!1)}),firstDriverDUI:tj({stage:"firstDriverDUI",defaultQuestionText:"Have you had a DUI conviction in the past three (3) years or need an SR-22 form?",hideInput:P(!1)}),secondDriverDUI:tj({stage:"secondDriverDUI",defaultQuestionText:"Has your second driver had a DUI conviction in the past three (3) years?",hideInput:P(!1)}),thirdDriverDUI:tj({stage:"thirdDriverDUI",defaultQuestionText:"Has your third driver had a DUI conviction in the past three (3) years?",hideInput:P(!1)}),insured:tj({stage:"insured",defaultQuestionText:"Do you already have an existing insurance policy for this property?",vertical:"home"}),currentInsurer:tT({stage:"currentInsurer",defaultQuestionText:"Who is your current insurer?",dataOptions:N.sq,vertical:"home"}),propertyType:tT({stage:"propertyType",defaultQuestionText:"What type of home are you insuring?",columnNumber:3,columnNumberMobile:2,hideInput:!D,vertical:"home",dataOptions:te(null===(g=C.uiConfiguration.form)||void 0===g?void 0:null===(f=g.stagesConfig)||void 0===f?void 0:null===(p=f["property-type"])||void 0===p?void 0:null===(h=p.question)||void 0===h?void 0:h.iconConfig,E)}),propertyPrimaryUse:tT({stage:"propertyPrimaryUse",defaultQuestionText:"What type of property is this?",dataOptions:tt.propertyPrimaryUse,vertical:"home"}),bedrooms:tT({stage:"bedrooms",defaultQuestionText:"How many bedrooms?",columnNumber:3,dataOptions:(0,N.qZ)(1,5),vertical:"home"}),bathrooms:tT({stage:"bathrooms",defaultQuestionText:"Number of bathrooms?",columnNumber:3,dataOptions:(0,N.qZ)(1,5),vertical:"home"}),roofType:tT({stage:"roofType",defaultQuestionText:"Type of roof?",columnNumber:2,columnNumberMobile:2,hideInput:!0,vertical:"home",dataOptions:tt.roofType}),decadeBuilt:tT({defaultQuestionText:"When was this property built?",stage:"decadeBuilt",vertical:"home",columnNumber:4,columnNumberMobile:2,dataOptions:tt.decadeBuilt}),squareFootage:tT({stage:"squareFootage",vertical:"home",defaultQuestionText:"What is the square footage?",columnNumber:4,columnNumberMobile:2,dataOptions:tt.squareFootage}),previousClaim:tj({stage:"previousClaim",defaultQuestionText:"Have you filed any home insurance claims in the past 3 years?"}),autoIntent:tT({stage:"autoIntent",defaultQuestionText:"How can we help you?",dataOptions:O,hideInput:P(!1)}),aarp:tj({stage:"aarp",defaultQuestionText:"Do you belong to AARP?",hideInput:P(!1)}),creditScore:tT({stage:"creditScore",defaultQuestionText:"What is your credit score?",dataOptions:tl,hideInput:P(!1),showSubmitButton:(null==e?void 0:null===(x=e.damascusConfig)||void 0===x?void 0:null===(y=x.global)||void 0===y?void 0:y.marketingServicesPartner)==="plymouth-rock"}),currentAutoInsurer:tT({stage:"currentAutoInsurer",defaultQuestionText:"Who is your current provider?",dataOptions:N.TM,hideInput:P(!1)}),currentInsurerTypeahead:Q,hasAutoInsurance:tj({stage:"hasAutoInsurance",defaultQuestionText:"Do you currently have car insurance?",showSubmitButton:t,hideInput:P(!1)}),bundleWithHomeInsurance:tj({stage:"bundleWithHomeInsurance",defaultQuestionText:"Are you interested in bundling auto and home insurance?",hideInput:P(!1)}),bundleWithRentersInsurance:tj({stage:"bundleWithRentersInsurance",defaultQuestionText:"Are you interested in bundling auto and renter's insurance?",hideInput:P(!1)}),militaryService:tj({stage:"militaryService",defaultQuestionText:"Have you ever honorably served in the U.S. military?",hideInput:P(!1)}),preferSpanishQuotes:tj({stage:"preferSpanishQuotes",defaultQuestionText:"Would you prefer to receive quotes in Spanish?",hideInput:P(!1)}),residenceOwnership:tT({stage:"residenceOwnership",defaultQuestionText:"Do you own or rent your home?",dataOptions:ti,hideInput:P(!1)}),yearsInsured:tT({stage:"yearsInsured",defaultQuestionText:"How long have you continuously had auto insurance?",dataOptions:M?N.$e:N.z5,hideInput:P(!1)}),coverageNeeded:tE({stage:"coverageNeeded",defaultQuestionText:"What coverage do you need?",dataOptions:N.hV,sendDataExpando:!0}),interstitial:tA(tg.A,"modernAuctionPoll"),carrierSelection:tA(en,"multiSeller")}};var tP=i(72501);let t_=e=>{var t,i,n,a,s,r;let{answers:d,accordionToOpen:u,index:c,config:v,getQuestion:m,initialSession:h,isFinalQuestion:p,formOnSubmit:f,previousStage:g,currentStage:y}=e,x=null!==(s=y.question)&&void 0!==s?s:{name:""},b=m(x),S=["zip","age","date-of-birth","street-address","name","driver-name","email","phone"].includes(x.name),N=null!==(r=null===(t=v.uiConfiguration.form)||void 0===t?void 0:t.submitButtonText)&&void 0!==r?r:"Get Quotes",C=e=>"age"===e?"firstPersonAge":e,w=C(null==x?void 0:x.name),T=C(null==g?void 0:null===(i=g.question)||void 0===i?void 0:i.name),E=e=>{var t;return"zip"===e?/^\d{5}$/.test(null!==(t=d[e])&&void 0!==t?t:""):void 0!==d[e]},[A,j]=(0,o.useState)(!1),k=0===c||E(T),[O,M]=(0,o.useState)(p&&k),I=S?A:E(w),P=(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:(0,G.cn)("mb-auto mr-4 flex size-10 items-center justify-center rounded-full border border-border-card p-4 font-bold",O?"bg-primary-button text-white":"text-primary-text",I&&"bg-accent"),children:I?(0,l.jsx)(tP.A,{className:"absolute size-10 rounded-full p-2 text-white"}):c+1}),(0,l.jsx)("h2",{className:"m-0 p-0 text-left text-xl text-primary-text",children:x.questionText})]});return(0,l.jsx)(D.Accordion,{id:"#accordion-".concat(c),className:(0,G.cn)(O&&(p||!I)&&"bg-default-bg",!O&&!I&&"opacity-50 [&_button]:cursor-not-allowed"),titleChildren:P,onClick:()=>{k&&M(!0),S||j(!1)},closeViaAction:A&&!p,openViaAction:p&&k||u===c&&!I,children:k&&(0,l.jsx)("div",{className:(0,G.cn)("p-6 pt-0 [&>div>div]:m-0 [&_h1]:hidden",S&&"[&>*>label>span]:hidden"),children:(0,l.jsx)(b,{questionText:x.questionText,carrierSelection:x.carrierSelection,onSubmit:()=>{j(!0),f(c,p)},session:h,submitButtonText:p?N:null===(n=y.submitButton)||void 0===n?void 0:n.text,notification:x.notification,validationIconPosition:null===(a=v.uiConfiguration.form)||void 0===a?void 0:a.validationIconPosition,...x},x.name)},x.name)})},tL=(e,t)=>{var i;let l=null===(i=(0,_.e0)(e))||void 0===i?void 0:i.city,{buttonDetails:n,contactDetails:o,hideCTA:a}=t.uiConfiguration.header;return{geoCity:l,hideCTA:null!=a?a:"auto"===t.vertical.toLowerCase()&&!(o&&Object.keys(o).length)&&!(n&&Object.keys(n).length)}};var tR=i(70561),tB=i(61851),tF=i(30993),tV=i(34610),tq=i(38818),tH=i(48586),tQ=i(54893);let tU=e=>{let{config:t,initialQuestions:i=tD,initialSession:a,universalOptOut:s}=e,r=(0,n.useRouter)(),{answers:c}=a,{hideCTA:v}=tL(a,t),[m,p]=(0,o.useState)(s),[g,y]=(0,o.useState)(!1),[x,S]=(0,o.useState)(0),N=(0,h.R)(t.uiConfiguration.form.stages,c),C=async()=>{var e,t,i,l,n,o;(0,tH.I)(),(0,d.q)(u.x.FORM_COMPLETE_TS,Date.now()),(0,tq.n5)("s2conversion",{vertical:null==a?void 0:null===(t=a.arrival)||void 0===t?void 0:null===(e=t.attributes)||void 0===e?void 0:e.vertical,tid:null==a?void 0:null===(l=a.arrival)||void 0===l?void 0:null===(i=l.attributes)||void 0===i?void 0:i.tid,...(0,tq.uD)(c),...(0,tq.TO)(null==a?void 0:null===(o=a.arrival)||void 0===o?void 0:null===(n=o.attributes)||void 0===n?void 0:n.queryString)}),await Promise.allSettled([(0,tm.q)(a),(0,tQ.q)(a)]),r.push("/exit?path=2")},w=async(e,i)=>{if(i){var l,n;let{setAnswer:e}=b.B.getState(),i=b.B.getState().session.answers;(0,tq.cC)({...i,completed:!0}),e("completed",!0),y(!0),(null==t?void 0:null===(n=t.uiConfiguration)||void 0===n?void 0:null===(l=n.form)||void 0===l?void 0:l.alertOnExit)&&(window.onbeforeunload=()=>void 0);return}S(e+1)};(0,o.useEffect)(()=>{g&&c.completed&&C()},[g,c.completed]),(0,o.useEffect)(()=>{var e;let t="#accordion-".concat(x-((0,tV.Fr)()?1:2));null===(e=document.getElementById(t))||void 0===e||e.scrollIntoView({behavior:"smooth"})},[x]);let T=e=>i(a)[e.name];return(0,l.jsxs)("div",{"data-theme":(0,tF.m)(t),children:[(0,l.jsx)(tB.A,{config:t,session:a}),(0,l.jsxs)("div",{className:"min-h-screen border-b-2 border-bg-progress-bar bg-white",children:[(0,l.jsx)(tR.default,{version:"modern",config:t,session:a,hideCTA:v,isSticky:!tV.Fr}),(0,l.jsx)("form",{className:"mx-auto flex w-full max-w-site-default flex-col justify-center px-6 pb-16 lg:px-0",children:N.map((e,i)=>{var n;return(0,l.jsx)(t_,{answers:c,accordionToOpen:x,index:i,config:t,getQuestion:T,isFinalQuestion:i===N.length-1,initialSession:a,formOnSubmit:w,previousStage:N[i-1],currentStage:e},null===(n=e.question)||void 0===n?void 0:n.name)})})]}),(0,l.jsx)(f.default,{config:t,hasOptedOut:m,session:a,setHasOptedOut:p})]})};var tY=i(99127);let tW=e=>{let{labelText:t,phoneIcon:i,phoneNumber:n}=e,o=n&&(0,L.FY)(n)?n:"833-972-2863";return(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center text-left md:flex-row",children:[t&&(0,l.jsx)("p",{className:"m-0 !mr-2.5 p-0 text-lg font-medium uppercase sm:text-left",children:t}),(0,l.jsxs)("div",{className:"flex items-center",children:[i&&(0,l.jsx)("div",{className:"p-0.5",children:(0,l.jsx)(y(),{src:i,alt:"call an expert",width:24,height:24})}),(0,l.jsx)("button",{type:"button",className:"m-2 ml-1 bg-transparent p-0 text-lg text-accent",onClick:()=>{window.open("tel:".concat(n))},children:I.GP.formatPhoneNumberForDisplay(o)})]})]})},tz=e=>{(0,o.useEffect)(()=>{var t,i;let l=null!==(i=null===(t=e.question)||void 0===t?void 0:t.name)&&void 0!==i?i:e.name;(0,d.q)(u.x.CURRENT_FORM_STEP,l,void 0,!1),(0,d.q)(u.x.LAST_PAGE_SEEN,l,void 0,!1)},[e.question])},tG=e=>{let{label:t,questionName:i}=e,n=i.split(" ").join("").trim(),a="".concat(n,"OptIn"),{answers:s,setAnswer:r}=(0,b.B)(e=>({setAnswer:e.setAnswer,answers:e.session.answers}));return(0,o.useEffect)(()=>{"boolean"!=typeof(null==s?void 0:s[a])&&r(a,!0)},[]),(0,l.jsxs)("div",{className:"mt-1 flex flex-row gap-2 md:items-center",children:[(0,l.jsx)("input",{className:"ml-0 size-6 shrink-0 cursor-pointer appearance-none rounded border border-input bg-white bg-center bg-no-repeat checked:bg-accent checked:bg-checkmark focus:shadow-secondary-focus",id:"".concat(a,"-question"),checked:null==s?void 0:s[a],name:a,onChange:e=>{r(a,e.target.checked)},type:"checkbox",value:a}),(0,l.jsx)("label",{className:"cursor-pointer",htmlFor:"".concat(a,"-question"),children:t})]})};var tJ=i(30769),t$=i(40044),tZ=i(40890),tK=i(50353);let tX=e=>{var t,i,n,a,s,r,d,u,c;let{currentStage:v,initialQuestions:m=tD,onSubmit:h,isFinalQuestion:p,session:f,submitButtonText:g,config:y}=e,x=v.question,S=(0,o.useMemo)(()=>m(f,p)[x.name],[x.name]),{stageHeading:N,initiatePingAuction:C}=v,{carrierSelection:w,notification:T,optIn:E}=x,{carrierSelectionOptions:A}=(0,b.B)(e=>({carrierSelectionOptions:e.carrierSelectionOptions})),j=async e=>{if(e?await h(e):await h(),C){var t,i,l,n,o;await (0,tm.q)(f),(0,tZ.E)({arrivalUuid:f.arrival.uuid,currentStage:null!==(o=null==v?void 0:null===(t=v.question)||void 0===t?void 0:t.name)&&void 0!==o?o:null==v?void 0:v.name,maxMatches:null==y?void 0:null===(n=y.uiConfiguration)||void 0===n?void 0:null===(l=n.form)||void 0===l?void 0:null===(i=l.pingAuction)||void 0===i?void 0:i.carrierLimit})}},[k,O]=(0,o.useState)("carrierSelection"===x.name),M=(null==f?void 0:null===(n=f.damascusConfig)||void 0===n?void 0:null===(i=n.uiConfiguration)||void 0===i?void 0:null===(t=i.form)||void 0===t?void 0:t.mobileQuestionsPosition)==="centre"&&(0,_.Xb)(f.arrival.attributes.deviceType)&&"currentAutoInsurer"!==x.name,D=!!A&&A.length>0,P=v.showTCPA&&(!w||D||(null===(a=f.damascusConfig)||void 0===a?void 0:a.global.marketingServicesPartner));return(0,o.useEffect)(()=>{if(v.showTCPA){var e,t;(0,t$._)(ew.K.TcpaShouldRender,+!!P,{stage_name:v.name,vertical:f.arrival.attributes.vertical,brand:null!==(t=null===(e=f.attributes)||void 0===e?void 0:e.brand)&&void 0!==t?t:"marketplace"}),P&&(0,tK.I)(f,v.name)}},[v.name,P]),(0,l.jsxs)("form",{"data-tf-element-role":P?"offer":"",autoComplete:"street-address"===v.name?"off":"on",className:I.JA.cn("mx-auto flex w-full flex-col justify-center",M&&"min-h-screen -translate-y-20 sm:min-h-0 sm:justify-start","interstitial"===x.name?"flex-1":"max-w-site-default px-6 pb-16 lg:px-0"),children:[N&&(0,l.jsx)("h1",{className:"my-6 text-2xl font-extrabold text-primary-text md:text-center",children:N}),(0,l.jsx)(S,{questionText:x.questionText,carrierSelection:w,onSubmit:j,session:f,submitButtonText:g,setIsLoading:O,prepopPropertyDetails:v.fenrisIntegration,isFinalQuestion:p,notification:T,options:null==v?void 0:v.options,optionsOrder:null==v?void 0:v.optionsOrder,otherOptions:null==v?void 0:v.otherOptions,hideOtherOptionsList:null==v?void 0:v.hideOtherOptionsList,pingAuction:null==y?void 0:null===(r=y.uiConfiguration)||void 0===r?void 0:null===(s=r.form)||void 0===s?void 0:s.pingAuction,sendDataExpando:null==v?void 0:v.sendDataExpando,initiateMarketingServicesEligibilityCheck:null==v?void 0:v.initiateMarketingServicesEligibilityCheck,marketingServices:null==v?void 0:v.marketingServices,...x},x.name),E&&(0,l.jsx)(tG,{...E,questionName:x.name}),P&&!k&&(0,l.jsx)(tJ.A,{version:null==v?void 0:v.tcpaVersion,isMarketingServicesEligible:null===(u=f.attributes)||void 0===u?void 0:null===(d=u.marketingServicesDetails)||void 0===d?void 0:d.isEligible,marketingServicesPartner:null===(c=f.damascusConfig)||void 0===c?void 0:c.global.marketingServicesPartner,currentStageName:v.name,overrideButtonText:g,verticalName:f.arrival.attributes.vertical,carriers:A})]})};var t0=i(88349);let t1=e=>{var t,i,n,a,s,r,d,u,c,v,m,p,g,x;let{config:S,currentStage:C,universalOptOut:w,initialSession:T,isMobile:E,onSubmit:A,submitButtonText:j}=e,{skipQuestions:k}=(0,b.B)(e=>{var t;return{skipQuestions:null===(t=e.session.attributes)||void 0===t?void 0:t.skipQuestions}}),[O,M]=(0,o.useState)(w),D=null===(t=S.uiConfiguration.form)||void 0===t?void 0:t.callAnExpert,{geoCity:P,hideCTA:_}=tL(T,S),{hideProgressBanner:L}=C,R=(null===(i=S.uiConfiguration.form)||void 0===i?void 0:i.stages)||[],B=(0,h.R)(R,null!==(x=null==T?void 0:T.answers)&&void 0!==x?x:{},k),F=C.name===(null===(n=B[0])||void 0===n?void 0:n.name),V=C.name===(null===(a=B[B.length-1])||void 0===a?void 0:a.name),q=F&&1||V&&99||void 0,H=void 0!==q?Math.min(q,95):void 0;tz(C);let Q=null===(s=S.uiConfiguration.form)||void 0===s?void 0:s.logoFooter,U=null===(r=S.uiConfiguration.form)||void 0===r?void 0:r.trustBannerMessage,Y=!!Q,W=(0,l.jsx)(tX,{currentStage:C,onSubmit:A,isFinalQuestion:V,session:T,submitButtonText:j,config:S});return(0,l.jsxs)("div",{"data-theme":(0,tF.m)(S),children:[(0,l.jsx)(tB.A,{config:S,session:T}),(0,l.jsxs)("div",{className:I.JA.cn("relative flex flex-col border-b-2 border-bg-progress-bar bg-default-bg",!U&&"max-sm:min-h-[calc(100vh+var(--header-height))]",(null==Q?void 0:Q.aboveFold)&&"h-auto max-h-full min-h-[calc(100vh+var(--header-height))] lg:min-h-screen",!Y&&"min-h-screen"),children:[(0,l.jsxs)("div",{className:I.JA.cn((null==Q?void 0:Q.aboveFold)&&"mb-32",Y&&!(null==Q?void 0:Q.aboveFold)&&"h-auto min-h-[calc(100vh+var(--header-height))] md:min-h-screen",U&&"flex grow flex-col"),children:[(0,l.jsx)(tR.default,{version:"modern",config:S,session:T,hideCTA:_,isSticky:!E,currentStageName:C.name}),!L&&(0,l.jsx)(t0.A,{bannerConfig:null===(d=S.uiConfiguration.form)||void 0===d?void 0:d.banner,currentStage:C,geoCity:P,stages:(null===(c=S.uiConfiguration.form)||void 0===c?void 0:null===(u=c.banner)||void 0===u?void 0:u.isDynamic)?R:B,progressPercentage:(null===(m=S.uiConfiguration.form)||void 0===m?void 0:null===(v=m.banner)||void 0===v?void 0:v.isDynamic)?H:null==C?void 0:C.progressPercentage,progressStages:null===(g=S.uiConfiguration)||void 0===g?void 0:null===(p=g.form)||void 0===p?void 0:p.progressStages,theme:S.global.theme}),W,D&&(0,l.jsx)("div",{className:"mb-4 mt-auto",children:(0,l.jsx)(tW,{labelText:D.labelText,phoneNumber:D.phoneNumber,phoneIcon:D.iconPath})}),U&&(0,l.jsx)("div",{className:"flex grow flex-col justify-end pb-3.5 text-center",children:(0,l.jsxs)("div",{className:"flex w-full flex-row items-center justify-center gap-1",children:[(0,l.jsx)(tY.A,{className:"size-6 text-primary-text"}),(0,l.jsx)("p",{className:"text-center text-sm text-primary-text",children:null!=U?U:"Smart matching, trusted providers, easy steps."})]})})]}),Y&&(0,l.jsxs)("div",{className:I.JA.cn("flex w-full flex-col gap-4 p-6",(null==Q?void 0:Q.aboveFold)&&"absolute bottom-0"),children:[(0,l.jsx)("span",{className:"flex justify-center text-base font-body text-primary-text",children:"We partner with top insurance providers"}),(0,l.jsx)("div",{className:"flex justify-evenly lg:justify-center lg:gap-4",children:N.t5.map(e=>(0,l.jsx)(y(),{className:"max-lg:h-10 max-lg:w-[73px]",src:e.src,alt:e.alt,width:116,height:64,style:{objectFit:"contain"},priority:!0},e.alt))})]})]}),(0,l.jsx)(f.default,{config:S,hasOptedOut:O,session:T,setHasOptedOut:M})]})};var t2=i(46609),t3=i(85109),t5=i(16236),t4=i(54305),t6=!0;function t9(e){var t,i,s,r,c,v,f,g,y,x,S,N,C,T;let E,{initialSession:A,universalOptOut:j}=e,k=A.damascusConfig,O=(0,t3.w)(A),{setAnswer:M,setAttribute:I,setAuctionResults:D}=b.B.getState(),P=(0,n.useRouter)(),{stage:L}=P.query,R=k.uiConfiguration.form.stages,{answers:F}=O,V=Object.entries(F).length>0?F:null==A?void 0:A.answers,{skipQuestions:q,isEligible:H}=(0,b.B)(e=>{var t,i,l;return{skipQuestions:null===(t=e.session.attributes)||void 0===t?void 0:t.skipQuestions,isEligible:null===(l=e.session.attributes)||void 0===l?void 0:null===(i=l.marketingServicesDetails)||void 0===i?void 0:i.isEligible}}),Q=(0,h.R)(R,null!=V?V:{},q),U=null!==(x=Q.find(e=>e.name===L))&&void 0!==x?x:Q[0],Y=U===Q[0],W=U===Q[Q.length-1],z=U===Q[Q.length-2],G=(0,_.Xb)(null==A?void 0:A.arrival.attributes.deviceType),[J,$]=(0,o.useState)(),[Z,K]=(0,o.useState)(!1),[X,ee]=(0,o.useState)(!1),et=null==k?void 0:null===(t=k.global)||void 0===t?void 0:t.marketingServicesPartner,ei=(0,ep.pA)(et),el=null==O?void 0:null===(r=O.damascusConfig)||void 0===r?void 0:null===(s=r.global)||void 0===s?void 0:null===(i=s.marketingServices)||void 0===i?void 0:i.useVersion2,[en,eo]=(0,o.useState)(!1),[ea,es]=(0,o.useState)(!1),er=(0,o.useMemo)(()=>"auto"===k.vertical.toLowerCase()&&U.showExitIntentPopup&&!en,[U,en]),{setCache:ed}=(0,b.B)();(0,o.useEffect)(()=>{ed("postFormMatches",void 0)},[F]),(0,o.useEffect)(()=>{(0,d.q)("".concat(U.name,"-seen"),!0),$(Date.now())},[U.name]),(0,o.useEffect)(()=>{Y||((0,tm.q)(O),(0,tQ.q)(O)),Y&&(window.addEventListener("scroll",()=>{(0,d.q)(u.x.FIRST_CONSUMER_INTERACTION,"scroll")}),window.addEventListener("click",()=>{(0,d.q)(u.x.FIRST_CONSUMER_INTERACTION,"click")})),ea&&es(!1),en&&eo(!1)},[U]);let eu=B.Do.POSTFORM,{assignedMatches:ec,quotedMatches:ev,pageViewPixel:em}=(0,t2.A)({session:O,isModernAdList:!1,impressionPath:eu,initRequest:!el&&X,isPrefetchingAds:!0});(0,o.useEffect)(()=>{el&&X&&et&&(0,ep.wT)({partnerName:et,session:O,setAttribute:I})},[el,X,et]),(0,o.useEffect)(()=>{if(X&&void 0!==H){var e,t,i;ec&&D({assignedMatches:ec,quotedMatches:ev,pageViewPixel:em}),(null===(t=O.attributes)||void 0===t?void 0:null===(e=t.marketingServicesDetails)||void 0===e?void 0:e.isEligible)&&(null==ei?void 0:null===(i=ei.getConfig())||void 0===i?void 0:i.redirectOnEligibilityCheckMatch)||ef(),ee(!1)}},[X,ec,ev,em,H]),W&&(E=null!==(N=null===(S=k.uiConfiguration.form)||void 0===S?void 0:S.submitButtonText)&&void 0!==N?N:"View Quotes");let eh=async()=>{var e,t,i,l,n,o,a;(0,tH.I)(),(0,d.q)(u.x.FORM_COMPLETE_TS,Date.now()),(0,tq.n5)("s2conversion",{vertical:null==O?void 0:null===(t=O.arrival)||void 0===t?void 0:null===(e=t.attributes)||void 0===e?void 0:e.vertical,tid:null==O?void 0:null===(l=O.arrival)||void 0===l?void 0:null===(i=l.attributes)||void 0===i?void 0:i.tid,...(0,tq.uD)(F),...(0,tq.TO)(null==O?void 0:null===(o=O.arrival)||void 0===o?void 0:null===(n=o.attributes)||void 0===n?void 0:n.queryString)}),O.answers.emailOptIn&&(null===(a=k.global.codeTests)||void 0===a?void 0:a.sendToNPS)&&(0,t5.V)(O,"OneQuestionPerStage"),await Promise.allSettled([(0,tm.q)(O),(0,tQ.q)(O)]),et?await (null==ei?void 0:ei.handleFormCompletion(O,P,I)):P.push("/exit?path=2")};(0,o.useEffect)(()=>{var e;Z&&(null===(e=O.answers)||void 0===e?void 0:e.completed)&&eh()},[Z,null===(c=O.answers)||void 0===c?void 0:c.completed]);let ef=async()=>{var e,t,i,l,n;let o=b.B.getState().session.answers,a=null===(e=b.B.getState().session.attributes)||void 0===e?void 0:e.skipQuestions,s=(0,h.R)(R,o,a),r="first-question"===L?1:s.findIndex(e=>e.name===L)+1,u=r>=s.length,c="/form/".concat(null===(t=s[r])||void 0===t?void 0:t.name);if((0,tq.cC)({...o,completed:u}),o.email&&await (0,tq.vN)(o.email),M("completed",u),M("lastFormCompletedStep",U.name),J){let e=Date.now()-J;(0,d.q)("".concat(U.name,"-time"),e,void 0,!1)}if((null==F?void 0:F.residenceOwnership)==="RES_RENT"&&(null===(i=k.global.codeTests)||void 0===i?void 0:i.hideBundleWithRenters)&&M("bundleWithRentersInsurance",!1),u)K(!0),(null==k?void 0:null===(n=k.uiConfiguration)||void 0===n?void 0:null===(l=n.form)||void 0===l?void 0:l.alertOnExit)&&(window.onbeforeunload=()=>void 0);else if(/^\/form\/autos-\d+-summary$/.test(c)&&Number(F.isEditingVehicleNumber)<Number(F.totalNumberOfVehicles)){let e="/form/autos-".concat(F.totalNumberOfVehicles,"-summary");P.push(e,e,{shallow:!0})}else P.push(c,c,{shallow:!0})},eg=async e=>{var t,i;let l=b.B.getState().session,{setAttribute:n}=b.B.getState();e&&"object"==typeof e&&"target"in e&&e.preventDefault(),(null==l?void 0:null===(i=l.damascusConfig)||void 0===i?void 0:null===(t=i.global)||void 0===t?void 0:t.marketingServicesPartner)&&U.initiateMarketingServicesEligibilityCheck?(M("completed",!0),ee(!0),n("marketingServicesDetails",{redirectUrl:void 0,deliveryEmails:void 0,isEligible:void 0})):await ef()};(0,o.useEffect)(()=>{er&&ea&&!en&&(0,d.q)(u.x.EXIT_INTENT_POP_UP_SHOWN,U.name,void 0,!1)},[er,ea,en]),(0,o.useEffect)(()=>{var e,t,i;(null==k?void 0:null===(t=k.uiConfiguration)||void 0===t?void 0:null===(e=t.form)||void 0===e?void 0:e.alertOnExit)&&(window.onbeforeunload=()=>!0),k.tests&&(0,_.CU)(k.tests,"form"),(0,d.q)(u.x.PAYLOAD_TYPE,k.template),(0,d.q)(u.x.SITE_VERSION,"marketplace-ui"),(0,d.q)("form","loaded"),O&&(0,tq.Fi)(O,"Form"),!O.answers.lastFormCompletedStep||O.answers.completed||(null===(i=k.uiConfiguration)||void 0===i?void 0:i.returnUser)||(0,d.q)(u.x.RETURN_USER,!1)},[]);let ey=null!==(C=null==k?void 0:null===(f=k.uiConfiguration)||void 0===f?void 0:null===(v=f.form)||void 0===v?void 0:v.preventAutoScroll)&&void 0!==C&&C,ex=["date-of-birth","street-address","email","name","phone","driver-name"];(0,o.useEffect)(()=>{ey?window.scrollTo(0,0):(0,p.m0)(O)&&ex.includes(L)?window.scrollTo({top:180,behavior:"smooth"}):G?window.scrollTo({top:65,behavior:"smooth"}):window.scrollY>0&&window.scrollTo(0,0)},[G,L,ey]);let eb=(0,tF.a)(k),eS=w.KV&&z&&(null===(g=k.global.codeTests)||void 0===g?void 0:g.loadAnura),eN=(null===(y=k.uiConfiguration.form)||void 0===y?void 0:y.type)==="directClick",eC=e=>e.clientX<0||e.clientX>=window.innerWidth||e.clientY<0||e.clientY>=window.innerHeight;return(0,l.jsxs)(a.ThemeProvider,{theme:eb,children:[eS&&m(A),(0,l.jsx)("div",{"data-theme":"marketplace-modern",children:(0,l.jsx)(t4.default,{currentStage:U,onClose:()=>eo(!0),postDataAndNavigateToExit:eh,show:null!==(T=er&&ea&&!en)&&void 0!==T&&T})}),(0,l.jsx)("div",{onMouseLeave:e=>{er&&eC(e)&&!ea&&es(!0)},children:(0,l.jsx)(eN?tU:t1,{config:k,onSubmit:eg,initialSession:O,isMobile:G,currentStage:U,submitButtonText:E,universalOptOut:j})})]})}},97841:(e,t,i)=>{"use strict";i.d(t,{b:()=>l});let l="undefined"!=typeof matchMedia&&matchMedia("(hover: hover)").matches}},e=>{var t=t=>e(e.s=t);e.O(0,[6593,1790,4587,8756,2972,2749,2088,9479,561,9493,9331,5235,3273,6609,636,8792],()=>t(54238)),_N_E=e.O()}]);